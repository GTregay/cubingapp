import"./analytics-83a120ef.js";import{S as Z,i as ee,s as te,N as U,a as ne,b as le,c as ae,e as _,d as q,f as k,r as O,g as S,h as u,j as P,k as f,m as B,v as se,w as D,l as oe,t as I,n as z,o as H,p as E,q as T,x as ie,y as re}from"./NavBarIcon-a127fe0e.js";import{n as ce}from"./scene-67ffe04a.js";import{a as ge}from"./algSets-4354f67e.js";let W;function ue(l){return W=l,v}let v={algs:[],algSetName:""},j=!1,V={};async function fe(l){v.algSetName=l;const n=await(await fetch(`https://raw.githubusercontent.com/spencerchubb/algdb/main/algSets/${l}.json`)).json();v.algs=n,j=!0,W(v)}function X(){if(!j||!v.algs||v.algs.length===0)return;j=!1;const e=ge.find(t=>t.name===v.algSetName)?.puzzle==="2x2"?2:3;for(let t=0;t<v.algs.length;t++){if(V[t])continue;let n=document.querySelector(`#scene${t}`);if(!pe(n))continue;V[t]=!0;const i=v.algs[t];if(!n){console.error(`Could not find scene${t}`);continue}const r=ce(n,e);r.enableKey=()=>!1,r.dragEnabled=!1;const d=i.algs[0];r.cube.performAlgReverse(d)}}function de(){j=!0,X()}function pe(l){const e=l.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>=0}function F(l,e,t){const n=l.slice();return n[9]=e[t],n[11]=t,n}function G(l,e,t){const n=l.slice();return n[12]=e[t],n}function J(l){let e,t=l[12]+"",n;return{c(){e=_("p"),n=O(t),S(e,"class","alg-list-item svelte-ehhcnr")},m(i,r){P(i,e,r),f(e,n)},p(i,r){r&1&&t!==(t=i[12]+"")&&D(n,t)},d(i){i&&H(e)}}}function Q(l){let e,t,n,i,r,d=l[9].name+"",b,c,w,h=l[9].algs,g=[];for(let o=0;o<h.length;o+=1)g[o]=J(G(l,h,o));return{c(){e=_("div"),t=_("div"),n=k(),i=_("div"),r=_("p"),b=O(d),c=k();for(let o=0;o<g.length;o+=1)g[o].c();w=k(),S(t,"id","scene"+l[11]),u(t,"width","150px"),u(t,"height","150px"),u(t,"min-width","150px"),u(t,"min-height","150px"),u(r,"font-weight","bold"),S(i,"class","col"),u(i,"padding","16px"),u(i,"align-items","start"),u(i,"flex-shrink","1"),S(e,"class","row"),u(e,"border","solid 1px var(--gray-500)"),u(e,"box-shadow","0 0 4px 2px var(--gray-600)"),u(e,"border-radius","16px"),u(e,"width","500px"),u(e,"max-width","100%")},m(o,$){P(o,e,$),f(e,t),f(e,n),f(e,i),f(i,r),f(r,b),f(i,c);for(let s=0;s<g.length;s+=1)g[s].m(i,null);f(e,w)},p(o,$){if($&1&&d!==(d=o[9].name+"")&&D(b,d),$&1){h=o[9].algs;let s;for(s=0;s<h.length;s+=1){const x=G(o,h,s);g[s]?g[s].p(x,$):(g[s]=J(x),g[s].c(),g[s].m(i,null))}for(;s<g.length;s+=1)g[s].d(1);g.length=h.length}},d(o){o&&H(e),T(g,o)}}}function he(l){let e,t,n,i,r,d,b,c,w,h=l[0].algSetName+"",g,o,$,s,x,A,R,K;n=new U({props:{name:"menu"}}),n.$on("click",l[2]),d=new U({props:{name:"github"}});let y=l[0].algs,p=[];for(let a=0;a<y.length;a+=1)p[a]=Q(F(l,y,a));function Y(a){l[4](a)}let L={};return l[1]!==void 0&&(L.open=l[1]),s=new ne({props:L}),le.push(()=>ae(s,"open",Y)),{c(){e=_("main"),t=_("nav"),q(n.$$.fragment),i=k(),r=_("a"),q(d.$$.fragment),b=k(),c=_("div"),w=_("h1"),g=O(h),o=k();for(let a=0;a<p.length;a+=1)p[a].c();$=k(),q(s.$$.fragment),S(r,"href","https://github.com/spencerchubb/algdb/"),S(t,"class","navbar"),u(t,"justify-content","space-between"),S(c,"class","col"),u(c,"width","100%"),u(c,"gap","16px"),u(c,"padding","16px"),u(c,"overflow-y","auto"),S(e,"class","col"),u(e,"width","100%"),u(e,"height","100%")},m(a,N){P(a,e,N),f(e,t),B(n,t,null),f(t,i),f(t,r),B(d,r,null),f(e,b),f(e,c),f(c,w),f(w,g),f(c,o);for(let C=0;C<p.length;C+=1)p[C].m(c,null);f(e,$),B(s,e,null),A=!0,R||(K=se(c,"scroll",l[3]),R=!0)},p(a,[N]){if((!A||N&1)&&h!==(h=a[0].algSetName+"")&&D(g,h),N&1){y=a[0].algs;let m;for(m=0;m<y.length;m+=1){const M=F(a,y,m);p[m]?p[m].p(M,N):(p[m]=Q(M),p[m].c(),p[m].m(c,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=y.length}const C={};!x&&N&2&&(x=!0,C.open=a[1],oe(()=>x=!1)),s.$set(C)},i(a){A||(I(n.$$.fragment,a),I(d.$$.fragment,a),I(s.$$.fragment,a),A=!0)},o(a){z(n.$$.fragment,a),z(d.$$.fragment,a),z(s.$$.fragment,a),A=!1},d(a){a&&H(e),E(n),E(d),T(p,a),E(s),R=!1,K()}}}function me(l,e,t){let n=window.location.href,i=n.lastIndexOf("/"),r=n.substring(i+1,n.length-5).replaceAll("-"," "),d=`Rubik's Cube ${r} Algorithms`,b=ue(o=>{t(0,b=o)}),c=!1;ie(()=>{fe(r),document.title=d}),re(()=>{X()});const w=()=>t(1,c=!0),h=()=>{de()};function g(o){c=o,t(1,c)}return[b,c,w,h,g]}class _e extends Z{constructor(e){super(),ee(this,e,me,he,te,{})}}new _e({target:document.getElementById("app")});
