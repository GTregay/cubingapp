import{l as ve,u as Ht,a as Le,G as jt,s as Rt,c as Yt,b as Qt}from"./analytics-83a120ef.js";import{S as se,i as re,s as ce,e as g,g as E,j as P,v as G,u as D,o as F,z as ge,C as $e,D as Ce,I as fe,E as yt,r as Z,f as h,d as R,h as d,k as c,m as Y,w as oe,F as At,G as $t,H as Ct,t as C,n as I,p as Q,J as Vt,K as Be,L as de,M as pe,O as Pe,P as Kt,Q as je,R as Xt,A as Ee,N as ye,a as Zt,b as Ie,c as Oe,l as Te,x as en,T as tn,U as Re,q as we}from"./NavBarIcon-a127fe0e.js";import{G as nn}from"./GLManager-5c2df976.js";import{s as ln,G as an}from"./scene-67ffe04a.js";async function _e(t,e){ve({endpoint:t,bodyObj:e});const n=await fetch(`${Ht}${t}`,{method:"POST",body:JSON.stringify(e)}).then(l=>l.json());return ve({json:n}),n}async function on(t){return _e("/user",{email:t})}const Ye="algSet",Qe="casesToday",Ve="orientation",Ke="showScramble",Ne="user",It={get:()=>fn(Ye)??-1,set:t=>gn(Ye,t)},xe={get:()=>{const t=localStorage.getItem(Qe);return t?JSON.parse(t):{count:0,msSinceEpoch:Date.now()}},set:t=>{localStorage.setItem(Qe,JSON.stringify(t))}};let Fe={get:()=>localStorage.getItem(Ve)??"",set:t=>{localStorage.setItem(Ve,t)}};const Ot={get:()=>cn(Ke)??!1,set:t=>un(Ke,t)};function sn(){return localStorage.getItem(Ne)}function Tt(){localStorage.removeItem(Ne)}function rn(t){localStorage.setItem(Ne,t)}function cn(t){const e=localStorage.getItem(t);return e===null?null:e=="1"}function un(t,e){localStorage.setItem(t,e?"1":"0")}function fn(t){const e=localStorage.getItem(t);return e===null?null:parseInt(e)}function gn(t,e){localStorage.setItem(t,e.toString())}class xt{email;uid;constructor(){}toJsonString(){return JSON.stringify({email:this.email,uid:this.uid})}fromJsonString(e){const n=JSON.parse(e);this.email=n.email,this.uid=n.uid}}function Lt(t){ve("Signed in as "+t.email+" with uid "+t.uid)}function dn(){const t=sn();if(!t)return null;const e=new xt;return e.fromJsonString(t),!e.email||!e.uid?(Tt(),null):(Lt(e),e)}function We(t,e){const n=new xt;n.email=t.user.email,on(n.email).then(l=>{n.uid=l.uid,rn(n.toJsonString()),Lt(n),e(n)})}function pn(t){const e=Le(),n=new jt;Rt(e,n).then(l=>{We(l,t)}).catch(l=>{console.log(l)})}function hn(t,e,n){const l=Le();Yt(l,t,e).then(i=>{We(i,n)}).catch(i=>{console.log(i.message)})}function mn(t,e,n){const l=Le();Qt(l,t,e).then(i=>{We(i,n)}).catch(i=>{console.log(i.message)})}function _n(){Le().signOut(),Tt()}function bn(t){let e,n,l;return{c(){e=g("button"),e.textContent="Create Account",E(e,"class","btn-primary")},m(i,a){P(i,e,a),n||(l=G(e,"click",t[3]),n=!0)},p:D,i:D,o:D,d(i){i&&F(e),n=!1,l()}}}function vn(t,e,n){let{email:l}=e,{password:i}=e,{callback:a}=e;const o=()=>{hn(l,i,a)};return t.$$set=r=>{"email"in r&&n(0,l=r.email),"password"in r&&n(1,i=r.password),"callback"in r&&n(2,a=r.callback)},[l,i,a,o]}class wn extends se{constructor(e){super(),re(this,e,vn,bn,ce,{email:0,password:1,callback:2})}}function Sn(t){let e,n,l;return{c(){e=g("button"),e.textContent="Sign In",E(e,"class","btn-primary")},m(i,a){P(i,e,a),n||(l=G(e,"click",t[3]),n=!0)},p:D,i:D,o:D,d(i){i&&F(e),n=!1,l()}}}function kn(t,e,n){let{email:l}=e,{password:i}=e,{callback:a}=e;const o=()=>{mn(l,i,a)};return t.$$set=r=>{"email"in r&&n(0,l=r.email),"password"in r&&n(1,i=r.password),"callback"in r&&n(2,a=r.callback)},[l,i,a,o]}class yn extends se{constructor(e){super(),re(this,e,kn,Sn,ce,{email:0,password:1,callback:2})}}function An(t){let e,n,l;return{c(){e=g("button"),e.innerHTML=`<div class="row"><svg style="width: 20px; height: 20px; margin-right: 0.6rem;" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 48 48"><path fill="#4285F4" d="M45.12 24.5c0-1.56-.14-3.06-.4-4.5H24v8.51h11.84c-.51 2.75-2.06 5.08-4.39 6.64v5.52h7.11c4.16-3.83 6.56-9.47 6.56-16.17z"></path><path fill="#34A853" d="M24 46c5.94 0 10.92-1.97 14.56-5.33l-7.11-5.52c-1.97 1.32-4.49 2.1-7.45 2.1-5.73 0-10.58-3.87-12.31-9.07H4.34v5.7C7.96 41.07 15.4 46 24 46z"></path><path fill="#FBBC05" d="M11.69 28.18C11.25 26.86 11 25.45 11 24s.25-2.86.69-4.18v-5.7H4.34C2.85 17.09 2 20.45 2 24c0 3.55.85 6.91 2.34 9.88l7.35-5.7z"></path><path fill="#EA4335" d="M24 10.75c3.23 0 6.13 1.11 8.41 3.29l6.31-6.31C34.91 4.18 29.93 2 24 2 15.4 2 7.96 6.93 4.34 14.12l7.35 5.7c1.73-5.2 6.58-9.07 12.31-9.07z"></path><path fill="none" d="M2 2h44v44H2z"></path></svg> 
        <p style="font-size: 1rem; color: black;">Sign in with Google</p></div>`,E(e,"class","btn-white")},m(i,a){P(i,e,a),n||(l=G(e,"click",t[1]),n=!0)},p:D,i:D,o:D,d(i){i&&F(e),n=!1,l()}}}function $n(t,e,n){let{callback:l}=e;const i=()=>pn(l);return t.$$set=a=>{"callback"in a&&n(0,l=a.callback)},[l,i]}class Cn extends se{constructor(e){super(),re(this,e,$n,An,ce,{callback:0})}}function In(t){let e,n,l,i;return{c(){e=g("input"),E(e,"class",n=t[1].class),E(e,"type","email"),E(e,"placeholder","Email")},m(a,o){P(a,e,o),ge(e,t[0]),l||(i=G(e,"input",t[2]),l=!0)},p(a,[o]){o&2&&n!==(n=a[1].class)&&E(e,"class",n),o&1&&e.value!==a[0]&&ge(e,a[0])},i:D,o:D,d(a){a&&F(e),l=!1,i()}}}function On(t,e,n){let{value:l}=e;function i(){l=this.value,n(0,l)}return t.$$set=a=>{n(1,e=$e($e({},e),Ce(a))),"value"in a&&n(0,l=a.value)},e=Ce(e),[l,e,i]}class Tn extends se{constructor(e){super(),re(this,e,On,In,ce,{value:0})}}function xn(t){let e,n,l,i;return{c(){e=g("input"),E(e,"class",n=t[1].class),E(e,"type","password"),E(e,"placeholder","Password")},m(a,o){P(a,e,o),ge(e,t[0]),l||(i=G(e,"input",t[2]),l=!0)},p(a,[o]){o&2&&n!==(n=a[1].class)&&E(e,"class",n),o&1&&e.value!==a[0]&&ge(e,a[0])},i:D,o:D,d(a){a&&F(e),l=!1,i()}}}function Ln(t,e,n){let{value:l}=e;function i(){l=this.value,n(0,l)}return t.$$set=a=>{n(1,e=$e($e({},e),Ce(a))),"value"in a&&n(0,l=a.value)},e=Ce(e),[l,e,i]}class En extends se{constructor(e){super(),re(this,e,Ln,xn,ce,{value:0})}}function Un(t){let e,n,l,i,a,o,r,s,u;o=new fe({props:{name:"x",class:"x-icon",style:"padding: 4px;"}}),o.$on("click",t[4]);const f=t[3].default,p=yt(f,t,t[2],null);return{c(){e=g("div"),n=g("div"),l=g("p"),i=Z(t[0]),a=h(),R(o.$$.fragment),r=h(),s=g("div"),p&&p.c(),E(n,"class","drawer-header svelte-5httr9"),d(s,"overflow-y","auto"),d(s,"height","calc(100vh - 96px)"),E(e,"class","drawer svelte-5httr9")},m(w,k){P(w,e,k),c(e,n),c(n,l),c(l,i),c(n,a),Y(o,n,null),c(e,r),c(e,s),p&&p.m(s,null),u=!0},p(w,[k]){(!u||k&1)&&oe(i,w[0]),p&&p.p&&(!u||k&4)&&At(p,f,w,w[2],u?Ct(f,w[2],k,null):$t(w[2]),null)},i(w){u||(C(o.$$.fragment,w),C(p,w),u=!0)},o(w){I(o.$$.fragment,w),I(p,w),u=!1},d(w){w&&F(e),Q(o),p&&p.d(w)}}}function zn(t,e,n){let{$$slots:l={},$$scope:i}=e,{title:a}=e,{close:o}=e;const r=()=>o();return t.$$set=s=>{"title"in s&&n(0,a=s.title),"close"in s&&n(1,o=s.close),"$$scope"in s&&n(2,i=s.$$scope)},[a,o,i,l,r]}class De extends se{constructor(e){super(),re(this,e,zn,Un,ce,{title:0,close:1})}}async function Mn(t,e,n,l,i,a,o,r){return _e("/createAlgSet",{uid:t,set:e,trainingAlgs:n,cube:l,inactiveStickers:i,moves:a,disregard:o,onlyOrientation:r})}async function Pn(t,e){return _e("/createPrebuiltAlgSet",{uid:t,set:e})}async function Fn(t){return _e("/deleteAlgSet",{id:t})}async function Bn(t){return _e("/getAlgSets",{uid:t})}async function Ue(t,e,n){return _e("/updateAlgSet",{id:t,set:e,trainingAlgs:n})}function Nn(t){return t[Ge(t.length)]}function Ge(t){return Math.floor(Math.random()*t)}function Je(t){return t<=0?2:Je(t-1)+t+2}function Wn(t){t[0].Score++;let e=Je(t[0].Score);const n=Math.ceil(t.length*3/4);e>n&&(e=n+Ge(t.length-n)),Et(t,e)}function Dn(t){t[0].Score=0,Et(t,Je(0))}function Et(t,e){const n=t[0];for(let l=0;l<e;l++)t[l]=t[l+1];t[e]=n}var Gn=globalThis&&globalThis.__awaiter||function(t,e,n,l){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function r(f){try{u(l.next(f))}catch(p){o(p)}}function s(f){try{u(l.throw(f))}catch(p){o(p)}}function u(f){f.done?a(f.value):i(f.value).then(r,s)}u((l=l.apply(t,e||[])).next())})},Jn=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},l,i,a,o;return o={next:r(0),throw:r(1),return:r(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function r(u){return function(f){return s([u,f])}}function s(u){if(l)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(l=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{l=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function qn(t){var e,n,l;if(t.alg===null||t.alg===void 0)throw new Error("alg must be defined");if(t.moves===null||t.moves===void 0)throw new Error("moves must be defined");return{alg:t.alg,moves:t.moves,onlyOrientation:(e=t.onlyOrientation)!==null&&e!==void 0?e:[],disregard:(n=t.disregard)!==null&&n!==void 0?n:[],maxSolutions:(l=t.maxSolutions)!==null&&l!==void 0?l:10}}function Hn(t){return Gn(this,void 0,void 0,function(){var e;return Jn(this,function(n){return e=qn(t),[2,new Promise(function(l){var i=new Worker(new URL("/assets/worker-27701fc1.js",self.location));i.onmessage=function(a){var o=a.data,r=o.split(",");l(r),i.terminate()},i.onerror=function(a){console.log("Caught error"),console.error(a),i.terminate()},i.postMessage(e)})]})})}const qe=-1;let ne={showSolution:!1,scene:null,preAUF:"",postAUF:"",orientation:Fe.get()},ae;function jn(t){return ae=t,_}function Rn(t){_=t}let _={user:null,algSet:null,algSetEditing:null,algSets:[],solutionButtonText:"show solution",modalOpen:!1,modalType:null,selectedAlg:null,selectedAlgIndex:0,showScramble:Ot.get(),scramble:""};async function Yn(){if(_.user=dn(),_.user,_.algSets=await Bn(_.user.uid),!_.algSets){ae(_);return}const t=It.get(),e=_.algSets.find(n=>n.id===t);_.algSet=e||_.algSets[0],ae(_)}function ze(t){_.user=t,ae(_)}function Qn(){_.user=null,ae(_),_n()}function Vn(){ne.showSolution=!ne.showSolution,_.solutionButtonText=ne.showSolution?Ut(He()):"show solution",ae(_)}function Kn(t){Se("edit alg");const e=_.algSet.trainingAlgs[t];_.selectedAlg=JSON.parse(JSON.stringify(e)),_.selectedAlgIndex=t,ae(_)}function Xn(){_.selectedAlg={Alg:"",Score:0},_.selectedAlgIndex=qe,Se("edit alg"),ae(_)}function Zn(t){const e=t.target;_.selectedAlg.Alg=e.value}function el(){if(_.selectedAlgIndex===qe){Se(null),ae(_);return}_.algSet.trainingAlgs.splice(_.selectedAlgIndex,1),Se(null),ae(_);const{id:t,name:e,trainingAlgs:n}=_.algSet;Ue(t,e,n)}function tl(){if(_.selectedAlgIndex===qe)_.algSet.trainingAlgs.unshift(_.selectedAlg);else{const l=_.selectedAlg,i=_.selectedAlgIndex;_.algSet.trainingAlgs[i]=l}Se(null),ae(_);const{id:t,name:e,trainingAlgs:n}=_.algSet;Ue(t,e,n),he()}function Se(t){if(!t){_.modalOpen=!1,_.modalType=null;return}_.modalOpen=!0,_.modalType=t}function Ut(t){return zt(t,ne.preAUF,ne.postAUF)}function nl(t){const e=et(ne.preAUF),n=et(ne.postAUF);return zt(t,n,e)}function zt(t,e,n){e&&(t=`${e} ${t}`),n&&(t=`${t} ${n}`);let l=t.split(" ");const i=Xe(l[0],l[1]),a=Xe(l[l.length-2],l[l.length-1]);return l=l.slice(2,-2),l=i.concat(l).concat(a),l.join(" ")}function Xe(t,e){if(t[0]!=="U"||e[0]!=="U")return[t,e];const n=(Ze(t)+Ze(e))%4;return n===0?[]:[ll(n)]}function Ze(t){return t.endsWith("'")?3:t.endsWith("2")?2:1}function ll(t){return["","U","U2","U'"][t]}function et(t){return t===""?"":t.endsWith("'")?t.slice(0,-1):t.endsWith("2")?t:`${t}'`}function tt(){return["","U","U2","U'"][Ge(4)]}function il(t){ne.scene=t}function nt(){const t=_.algSet.trainingAlgs,e=t.map(i=>i.Score),n=Math.max(...e),l=new Array(n+1).fill(0);return e.forEach(i=>l[i]++),l.map((i,a)=>({reps:a,algs:i,ratio:Math.round(i/t.length*100)}))}function He(){return _.algSet?.trainingAlgs?_.algSet.trainingAlgs[0].Alg:(ve("No alg set loaded"),"")}async function lt(){const t=ne.scene;if(!t){console.error("Scene not set. Have you called setScene()?");return}_.algSet.cube=="2x2"?(t.cube.setNumOfLayers(2),t.cube.solve()):_.algSet.cube=="3x3"&&(t.cube.setNumOfLayers(3),t.cube.solve())}function he(){let t=He();if(!t)return;ne.showSolution=!1,_.solutionButtonText="show solution",ae(_),Ae(),ne.preAUF=tt(),ne.postAUF=tt();const e=ne.scene;e.cube.solve(),e.cube.performAlg(ne.orientation),_.algSet.inactive.forEach(l=>{ln(e.cube.stickers[l],an)});let n=Ut(t);return e.cube.performAlgReverse(n),t}async function it(t,e){if(t?Wn(_.algSet.trainingAlgs):Dn(_.algSet.trainingAlgs),_.algSet.id===-1){const n=_.user.uid,{trainingAlgs:l,cube:i,inactive:a,moves:o,disregard:r,onlyOrientation:s}=_.algSet,u=await Mn(n,e,l,i,a,o,r,s);_.algSet.id=u.id}else{const{id:n,name:l,trainingAlgs:i}=_.algSet;Ue(n,l,i)}return sl(),he()}async function Ae(){if(!_.showScramble)return;_.scramble="loading...",ae(_);let t=He();const e=await Hn({alg:t,moves:_.algSet.moves,disregard:_.algSet.disregard,onlyOrientation:_.algSet.onlyOrientation}),n=Nn(e);_.scramble=nl(n),ae(_)}function al(t){Ot.set(t)}function ol(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function Me(){const t=xe.get(),e=new Date(t.msSinceEpoch),n=new Date;return ol(e,n)||(ve("Resetting cases today"),t.count=0,t.msSinceEpoch=n.getTime(),xe.set(t)),t.count}function sl(){const t=xe.get();t.count++,xe.set(t)}const at=[{label:"white green",value:""},{label:"white orange",value:"y'"},{label:"white blue",value:"y2"},{label:"white red",value:"y"},{label:"yellow green",value:"z2"},{label:"yellow orange",value:"z2 y"},{label:"yellow blue",value:"z2 y2"},{label:"yellow red",value:"z2 y'"},{label:"green yellow",value:"x"},{label:"green orange",value:"x y'"},{label:"green white",value:"x y2"},{label:"green red",value:"x y"},{label:"blue white",value:"x'"},{label:"blue orange",value:"x' y'"},{label:"blue yellow",value:"x' y2"},{label:"blue red",value:"x' y"},{label:"orange green",value:"z"},{label:"orange yellow",value:"z y'"},{label:"orange blue",value:"z y2"},{label:"orange white",value:"z y"},{label:"red green",value:"z'"},{label:"red white",value:"z' y'"},{label:"red blue",value:"z' y2"},{label:"red yellow",value:"z' y"}];let ot={get:Fe.get,set:t=>{ne.orientation=t,Fe.set(t),he()}};function rl(t){const e=t-1;return e*e*e+1}function st(t,{delay:e=0,duration:n=400,easing:l=Vt}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:a=>`opacity: ${a*i}`}}function rt(t,{delay:e=0,duration:n=400,easing:l=rl,x:i=0,y:a=0,opacity:o=0}={}){const r=getComputedStyle(t),s=+r.opacity,u=r.transform==="none"?"":r.transform,f=s*(1-o);return{delay:e,duration:n,easing:l,css:(p,w)=>`
			transform: ${u} translate(${(1-p)*i}px, ${(1-p)*a}px);
			opacity: ${s-f*w}`}}function ct(t){let e,n,l,i,a,o,r,s,u,f,p,w,k,S;r=new fe({props:{name:"x",class:"x-icon",style:"padding: 4px;"}}),r.$on("click",t[4]);const A=t[3].default,v=yt(A,t,t[2],null);return{c(){e=g("div"),n=g("div"),l=g("div"),i=g("p"),a=Z(t[1]),o=h(),R(r.$$.fragment),s=h(),v&&v.c(),E(l,"class","modal-header svelte-1ng7mvr"),E(n,"class","modal svelte-1ng7mvr"),d(e,"position","fixed"),d(e,"top","0"),d(e,"left","0"),d(e,"width","100%"),d(e,"height","100%"),d(e,"z-index","10"),d(e,"background","rgba(0, 0, 0, 0.5)")},m($,O){P($,e,O),c(e,n),c(n,l),c(l,i),c(i,a),c(l,o),Y(r,l,null),c(n,s),v&&v.m(n,null),w=!0,k||(S=[G(n,"click",ul),G(n,"keypress",fl),G(e,"click",t[5]),G(e,"keypress",gl)],k=!0)},p($,O){(!w||O&2)&&oe(a,$[1]),v&&v.p&&(!w||O&4)&&At(v,A,$,$[2],w?Ct(A,$[2],O,null):$t($[2]),null)},i($){w||(C(r.$$.fragment,$),C(v,$),Pe(()=>{f&&f.end(1),u=Kt(n,rt,{y:50,duration:250}),u.start()}),Pe(()=>{p||(p=je(e,st,{duration:250},!0)),p.run(1)}),w=!0)},o($){I(r.$$.fragment,$),I(v,$),u&&u.invalidate(),f=Xt(n,rt,{y:50,duration:250}),p||(p=je(e,st,{duration:250},!1)),p.run(0),w=!1},d($){$&&F(e),Q(r),v&&v.d($),$&&f&&f.end(),$&&p&&p.end(),k=!1,Ee(S)}}}function cl(t){let e,n,l=t[0]&&ct(t);return{c(){l&&l.c(),e=Be()},m(i,a){l&&l.m(i,a),P(i,e,a),n=!0},p(i,[a]){i[0]?l?(l.p(i,a),a&1&&C(l,1)):(l=ct(i),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(de(),I(l,1,1,()=>{l=null}),pe())},i(i){n||(C(l),n=!0)},o(i){I(l),n=!1},d(i){l&&l.d(i),i&&F(e)}}}const ul=t=>t.stopPropagation(),fl=t=>{},gl=t=>{};function dl(t,e,n){let{$$slots:l={},$$scope:i}=e,{title:a}=e,{open:o=!1}=e;const r=()=>n(0,o=!1),s=()=>n(0,o=!1);return t.$$set=u=>{"title"in u&&n(1,a=u.title),"open"in u&&n(0,o=u.open),"$$scope"in u&&n(2,i=u.$$scope)},[o,a,i,l,r,s]}class pl extends se{constructor(e){super(),re(this,e,dl,cl,ce,{title:1,open:0})}}function me(t){return t?{modalOpen:!0,modalType:t}:{modalOpen:!1,modalType:null}}const ut=["OLL","PLL","F2L","CMLL","ZBLL","2x2 CLL","2x2 EG1","2x2 EG2"];class hl{callback;constructor(e){this.callback=e}displayChooseAlgSet(){const e=me("choose alg set");this.callback(e)}chooseAlgSet(e,n){It.set(e);const i={algSet:n.find(a=>a.id===e),...me(null)};this.callback(i)}async createPrebuiltAlgSet(e,n,l){const i=await Pn(e,n),o={algSets:l?[i,...l]:[i],algSet:i,...me(null)};this.callback(o)}createCustomSet(){const n={...me("edit alg set"),algSetEditing:{name:""}};this.callback(n)}editAlgSet(e,n){const l=me("edit alg set"),i=n.find(o=>o.id===e),a={...l,algSetEditing:i};this.callback(a)}deleteAlgSet(e,n,l){Fn(e);const a={algSets:n.filter(o=>o.id!==e)};this.callback(a)}saveAlgSet(e,n,l,i){const a=me(null);Ue(e,n,l);const o=i.find(s=>s.id===e),r={...a,algSet:o,algSets:i};this.callback(r)}}function ml(t){let e;return{c(){e=g("div"),e.innerHTML=`<h2 style="text-align: center; margin-bottom: 16px;">FAQ</h2> 
    <h3 style="margin-bottom: 8px;">Why use this trainer?</h3> 
    <p style="margin-bottom: 24px;">We use a memorization technique called <i>spaced repetition</i>. This
        means that you&#39;ll see an algorithm less often if you get it right, and
        more often if you get it wrong. The algorithms are automatically spaced
        out so you can memorize in the most efficient way possible.</p> 
    <h3 style="margin-bottom: 8px;">How does I use it?</h3> 
    <p style="margin-bottom: 24px;">There are a couple ways to use this trainer. We provide a scramble so
        you can set up a case on your own cube, or you can use the virtual cube.
        To turn the virtual cube, you can use the keyboard or drag the cube.</p> 
    <h3 style="margin-bottom: 8px;">What alg sets do you have?</h3> 
    <p style="margin-bottom: 24px;">You can make your own! We also have common sets pre-made such as OLL,
        PLL, CLL, and more.</p>`,d(e,"max-width","600px")},m(n,l){P(n,e,l)},p:D,i:D,o:D,d(n){n&&F(e)}}}class _l extends se{constructor(e){super(),re(this,e,null,ml,ce,{})}}function ft(t,e,n){const l=t.slice();return l[51]=e[n],l}function gt(t,e,n){const l=t.slice();return l[54]=e[n],l}function dt(t,e,n){const l=t.slice();return l[60]=e[n],l[62]=n,l}function pt(t,e,n){const l=t.slice();return l[63]=e[n],l}function ht(t,e,n){const l=t.slice();return l[57]=e[n],l}function mt(t){let e,n,l,i,a,o,r;return n=new ye({props:{name:"chart"}}),n.$on("click",t[14]),i=new ye({props:{name:"profile"}}),i.$on("click",t[15]),o=new ye({props:{name:"settings"}}),o.$on("click",t[16]),{c(){e=g("div"),R(n.$$.fragment),l=h(),R(i.$$.fragment),a=h(),R(o.$$.fragment),E(e,"id","iconContainer"),E(e,"class","row")},m(s,u){P(s,e,u),Y(n,e,null),c(e,l),Y(i,e,null),c(e,a),Y(o,e,null),r=!0},p:D,i(s){r||(C(n.$$.fragment,s),C(i.$$.fragment,s),C(o.$$.fragment,s),r=!0)},o(s){I(n.$$.fragment,s),I(i.$$.fragment,s),I(o.$$.fragment,s),r=!1},d(s){s&&F(e),Q(n),Q(i),Q(o)}}}function bl(t){let e,n,l,i,a,o,r,s,u,f,p,w,k,S,A,v,$,O=t[8].solutionButtonText+"",U,y,W,N,B,m,z,j,le,K,ee,J,q,H,te,V,b;i=new nn({props:{onSceneInitialized:t[23]}}),u=new fe({props:{name:"retry",id:"retry-icon",style:`\r
            width: 48px;\r
            height: 48px;\r
            padding: 2px;\r
            box-shadow: 0 0 4px var(--gray-400);`}}),u.$on("click",t[24]),p=new fe({props:{name:"sad",id:"sad-icon",style:`\r
            width: 48px;\r
            height: 48px;\r
            padding: 2px;\r
            box-shadow: 0 0 4px var(--gray-400);`}}),p.$on("click",t[25]),k=new fe({props:{name:"happy",id:"happy-icon",style:`\r
            width: 48px;\r
            height: 48px;\r
            padding: 2px;\r
            box-shadow: 0 0 4px var(--gray-400);`}}),k.$on("click",t[26]);let M=t[8].showScramble&&_t(t);const T=[kl,Sl,wl],X=[];function ue(x,ie){return x[3]===0?0:x[3]===1?1:x[3]===2?2:-1}return~(J=ue(t))&&(q=X[J]=T[J](t)),{c(){e=g("div"),n=g("div"),l=h(),R(i.$$.fragment),a=h(),o=g("div"),r=h(),s=g("div"),R(u.$$.fragment),f=h(),R(p.$$.fragment),w=h(),R(k.$$.fragment),S=h(),A=g("div"),v=h(),$=g("button"),U=Z(O),y=h(),M&&M.c(),W=h(),N=g("div"),B=h(),m=g("p"),z=Z("cases today: "),j=Z(t[6]),le=h(),K=g("div"),ee=h(),q&&q.c(),H=Be(),d(n,"height","16px"),d(o,"height","16px"),E(s,"class","row"),d(s,"gap","16px"),d(A,"height","16px"),E($,"class","btn-primary"),d(N,"flex-grow","1"),d(K,"height","16px"),E(e,"class","col"),d(e,"width","100%"),d(e,"height","100%")},m(x,ie){P(x,e,ie),c(e,n),c(e,l),Y(i,e,null),c(e,a),c(e,o),c(e,r),c(e,s),Y(u,s,null),c(s,f),Y(p,s,null),c(s,w),Y(k,s,null),c(e,S),c(e,A),c(e,v),c(e,$),c($,U),c(e,y),M&&M.m(e,null),c(e,W),c(e,N),c(e,B),c(e,m),c(m,z),c(m,j),c(e,le),c(e,K),P(x,ee,ie),~J&&X[J].m(x,ie),P(x,H,ie),te=!0,V||(b=G($,"click",t[27]),V=!0)},p(x,ie){const ke={};ie[0]&256&&(ke.onSceneInitialized=x[23]),i.$set(ke),(!te||ie[0]&256)&&O!==(O=x[8].solutionButtonText+"")&&oe(U,O),x[8].showScramble?M?M.p(x,ie):(M=_t(x),M.c(),M.m(e,W)):M&&(M.d(1),M=null),(!te||ie[0]&64)&&oe(j,x[6]);let be=J;J=ue(x),J===be?~J&&X[J].p(x,ie):(q&&(de(),I(X[be],1,1,()=>{X[be]=null}),pe()),~J?(q=X[J],q?q.p(x,ie):(q=X[J]=T[J](x),q.c()),C(q,1),q.m(H.parentNode,H)):q=null)},i(x){te||(C(i.$$.fragment,x),C(u.$$.fragment,x),C(p.$$.fragment,x),C(k.$$.fragment,x),C(q),te=!0)},o(x){I(i.$$.fragment,x),I(u.$$.fragment,x),I(p.$$.fragment,x),I(k.$$.fragment,x),I(q),te=!1},d(x){x&&F(e),Q(i),Q(u),Q(p),Q(k),M&&M.d(),x&&F(ee),~J&&X[J].d(x),x&&F(H),V=!1,b()}}}function vl(t){let e,n,l,i,a,o,r,s,u,f,p,w,k,S,A,v,$,O,U,y;const W=[Il,Cl],N=[];function B(m,z){return m[8].user?0:1}return f=B(t),p=N[f]=W[f](t),U=new _l({}),{c(){e=g("div"),n=g("h1"),n.textContent="Learn OLL, PLL, CLL and more",l=h(),i=g("div"),a=h(),o=g("p"),o.textContent="Memorize algs in half the time",r=h(),s=g("div"),u=h(),p.c(),w=h(),k=g("div"),S=h(),A=g("div"),v=h(),$=g("div"),O=h(),R(U.$$.fragment),d(i,"height","16px"),E(o,"class","text-gradient"),d(o,"font-weight","bold"),d(o,"font-size","1.2rem"),d(o,"background-image","linear-gradient(90deg, var(--blue-400), var(--purple-400))"),d(s,"height","16px"),d(k,"height","16px"),d(A,"width","100%"),d(A,"height","1px"),d(A,"background-color","var(--gray-600)"),d($,"height","16px"),E(e,"class","col w-full h-full"),d(e,"padding","16px")},m(m,z){P(m,e,z),c(e,n),c(e,l),c(e,i),c(e,a),c(e,o),c(e,r),c(e,s),c(e,u),N[f].m(e,null),c(e,w),c(e,k),c(e,S),c(e,A),c(e,v),c(e,$),c(e,O),Y(U,e,null),y=!0},p(m,z){let j=f;f=B(m),f===j?N[f].p(m,z):(de(),I(N[j],1,1,()=>{N[j]=null}),pe(),p=N[f],p?p.p(m,z):(p=N[f]=W[f](m),p.c()),C(p,1),p.m(e,w))},i(m){y||(C(p),C(U.$$.fragment,m),y=!0)},o(m){I(p),I(U.$$.fragment,m),y=!1},d(m){m&&F(e),N[f].d(),Q(U)}}}function _t(t){let e,n,l,i,a=(t[8].scramble||"loading...")+"",o;return{c(){e=g("div"),n=h(),l=g("p"),i=Z("scramble: "),o=Z(a),d(e,"height","16px")},m(r,s){P(r,e,s),P(r,n,s),P(r,l,s),c(l,i),c(l,o)},p(r,s){s[0]&256&&a!==(a=(r[8].scramble||"loading...")+"")&&oe(o,a)},d(r){r&&F(e),r&&F(n),r&&F(l)}}}function wl(t){let e,n;return e=new De({props:{title:"Settings",close:t[37],$$slots:{default:[yl]},$$scope:{ctx:t}}}),{c(){R(e.$$.fragment)},m(l,i){Y(e,l,i),n=!0},p(l,i){const a={};i[0]&288|i[2]&16&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){n||(C(e.$$.fragment,l),n=!0)},o(l){I(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function Sl(t){let e,n;return e=new De({props:{title:"Profile",close:t[30],$$slots:{default:[Al]},$$scope:{ctx:t}}}),{c(){R(e.$$.fragment)},m(l,i){Y(e,l,i),n=!0},p(l,i){const a={};i[0]&260|i[2]&16&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){n||(C(e.$$.fragment,l),n=!0)},o(l){I(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function kl(t){let e,n;return e=new De({props:{title:"Stats",close:t[28],$$slots:{default:[$l]},$$scope:{ctx:t}}}),{c(){R(e.$$.fragment)},m(l,i){Y(e,l,i),n=!0},p(l,i){const a={};i[2]&16&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){n||(C(e.$$.fragment,l),n=!0)},o(l){I(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function bt(t){let e,n=t[63].label+"",l;return{c(){e=g("option"),l=Z(n),e.__value=t[63].value,e.value=e.__value},m(i,a){P(i,e,a),c(e,l)},p:D,d(i){i&&F(e)}}}function vt(t){let e,n,l=t[60].Alg+"",i,a,o,r;function s(){return t[36](t[62])}return{c(){e=g("button"),n=g("p"),i=Z(l),a=h(),E(e,"class","alg-list-item svelte-3n3qiq"),d(e,"border-top","solid 1px var(--gray-500)"),d(e,"border-radius","0"),d(e,"width","100%"),d(e,"padding","4px"),d(e,"text-align","left")},m(u,f){P(u,e,f),c(e,n),c(n,i),c(e,a),o||(r=G(e,"click",s),o=!0)},p(u,f){t=u,f[0]&256&&l!==(l=t[60].Alg+"")&&oe(i,l)},d(u){u&&F(e),o=!1,r()}}}function yl(t){let e,n,l,i=(t[8].algSet?.name??"none")+"",a,o,r,s,u,f,p,w,k,S,A,v,$,O,U,y,W,N,B,m,z,j,le,K,ee,J,q=at,H=[];for(let b=0;b<q.length;b+=1)H[b]=bt(pt(t,q,b));j=new fe({props:{name:"plus",id:"plus-icon",style:`\r
                width: 24px; \r
                height: 24px; \r
                padding: 4px; \r
                margin-left: 4px;`}}),j.$on("click",t[35]);let te=t[8].algSet?.trainingAlgs??[],V=[];for(let b=0;b<te.length;b+=1)V[b]=vt(dt(t,te,b));return{c(){e=g("div"),n=g("p"),l=Z("algorithm set: "),a=Z(i),o=h(),r=g("button"),r.textContent="choose alg set",s=h(),u=g("div"),f=h(),p=g("p"),p.textContent="orientation",w=h(),k=g("select");for(let b=0;b<H.length;b+=1)H[b].c();S=h(),A=g("div"),v=h(),$=g("p"),$.textContent="show scramble",O=h(),U=g("input"),y=h(),W=g("div"),N=h(),B=g("div"),m=g("p"),m.textContent="algorithms",z=h(),R(j.$$.fragment),le=h();for(let b=0;b<V.length;b+=1)V[b].c();d(u,"height","16px"),t[5]===void 0&&Pe(()=>t[32].call(k)),d(A,"height","16px"),E(U,"type","checkbox"),d(W,"height","16px"),E(B,"class","row"),d(e,"padding","16px")},m(b,M){P(b,e,M),c(e,n),c(n,l),c(n,a),c(e,o),c(e,r),c(e,s),c(e,u),c(e,f),c(e,p),c(e,w),c(e,k);for(let T=0;T<H.length;T+=1)H[T].m(k,null);Re(k,t[5]),c(e,S),c(e,A),c(e,v),c(e,$),c(e,O),c(e,U),U.checked=t[8].showScramble,c(e,y),c(e,W),c(e,N),c(e,B),c(B,m),c(B,z),Y(j,B,null),c(e,le);for(let T=0;T<V.length;T+=1)V[T].m(e,null);K=!0,ee||(J=[G(r,"click",t[31]),G(k,"change",t[32]),G(k,"change",t[11]),G(U,"change",t[33]),G(U,"change",t[34])],ee=!0)},p(b,M){if((!K||M[0]&256)&&i!==(i=(b[8].algSet?.name??"none")+"")&&oe(a,i),M&0){q=at;let T;for(T=0;T<q.length;T+=1){const X=pt(b,q,T);H[T]?H[T].p(X,M):(H[T]=bt(X),H[T].c(),H[T].m(k,null))}for(;T<H.length;T+=1)H[T].d(1);H.length=q.length}if(M[0]&32&&Re(k,b[5]),M[0]&256&&(U.checked=b[8].showScramble),M[0]&256){te=b[8].algSet?.trainingAlgs??[];let T;for(T=0;T<te.length;T+=1){const X=dt(b,te,T);V[T]?V[T].p(X,M):(V[T]=vt(X),V[T].c(),V[T].m(e,null))}for(;T<V.length;T+=1)V[T].d(1);V.length=te.length}},i(b){K||(C(j.$$.fragment,b),K=!0)},o(b){I(j.$$.fragment,b),K=!1},d(b){b&&F(e),we(H,b),Q(j),we(V,b),ee=!1,Ee(J)}}}function Al(t){let e,n,l,i=t[8].user.email+"",a,o,r,s,u;return{c(){e=g("div"),n=g("p"),l=Z("signed in as "),a=Z(i),o=h(),r=g("button"),r.textContent="Sign Out",E(r,"class","btn-primary"),d(e,"padding","12px")},m(f,p){P(f,e,p),c(e,n),c(n,l),c(n,a),c(e,o),c(e,r),s||(u=G(r,"click",t[29]),s=!0)},p(f,p){p[0]&256&&i!==(i=f[8].user.email+"")&&oe(a,i)},d(f){f&&F(e),s=!1,u()}}}function wt(t){let e,n,l=t[57].reps+"",i,a,o,r=t[57].algs+"",s,u,f,p=t[57].ratio+"",w,k,S;return{c(){e=g("tr"),n=g("td"),i=Z(l),a=h(),o=g("td"),s=Z(r),u=h(),f=g("td"),w=Z(p),k=Z("%"),S=h()},m(A,v){P(A,e,v),c(e,n),c(n,i),c(e,a),c(e,o),c(o,s),c(e,u),c(e,f),c(f,w),c(f,k),c(e,S)},p:D,d(A){A&&F(e)}}}function $l(t){let e,n,l,i,a=nt(),o=[];for(let r=0;r<a.length;r+=1)o[r]=wt(ht(t,a,r));return{c(){e=g("table"),n=g("thead"),n.innerHTML=`<tr><th>repetitions</th> 
                <th>algs</th> 
                <th>%</th></tr>`,l=h(),i=g("tbody");for(let r=0;r<o.length;r+=1)o[r].c();d(e,"margin","16px auto")},m(r,s){P(r,e,s),c(e,n),c(e,l),c(e,i);for(let u=0;u<o.length;u+=1)o[u].m(i,null)},p(r,s){if(s&0){a=nt();let u;for(u=0;u<a.length;u+=1){const f=ht(r,a,u);o[u]?o[u].p(f,s):(o[u]=wt(f),o[u].c(),o[u].m(i,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=a.length}},d(r){r&&F(e),we(o,r)}}}function Cl(t){let e,n,l,i,a,o,r,s,u,f,p,w,k,S,A,v,$,O,U,y,W,N,B,m,z,j,le,K,ee,J;n=new Cn({props:{callback:t[18]}});function q(b){t[19](b)}let H={class:"mt-4"};t[0]!==void 0&&(H.value=t[0]),S=new Tn({props:H}),Ie.push(()=>Oe(S,"value",q));function te(b){t[20](b)}let V={class:"mt-4"};return t[1]!==void 0&&(V.value=t[1]),U=new En({props:V}),Ie.push(()=>Oe(U,"value",te)),z=new wn({props:{email:t[0],password:t[1],callback:t[21]}}),ee=new yn({props:{email:t[0],password:t[1],callback:t[22]}}),{c(){e=g("div"),R(n.$$.fragment),l=h(),i=g("div"),a=h(),o=g("div"),r=h(),s=g("div"),u=h(),f=g("p"),f.textContent="Or use email and password",p=h(),w=g("div"),k=h(),R(S.$$.fragment),v=h(),$=g("div"),O=h(),R(U.$$.fragment),W=h(),N=g("div"),B=h(),m=g("div"),R(z.$$.fragment),j=h(),le=g("div"),K=h(),R(ee.$$.fragment),d(i,"height","16px"),d(o,"width","100%"),d(o,"height","2px"),d(o,"background-color","var(--gray-600)"),d(s,"height","16px"),d(w,"height","12px"),d($,"height","16px"),d(N,"height","32px"),d(le,"width","16px"),E(m,"class","row"),E(e,"class","col"),d(e,"border-radius","16px"),d(e,"padding","16px"),d(e,"box-shadow","0 0 4px lightgray")},m(b,M){P(b,e,M),Y(n,e,null),c(e,l),c(e,i),c(e,a),c(e,o),c(e,r),c(e,s),c(e,u),c(e,f),c(e,p),c(e,w),c(e,k),Y(S,e,null),c(e,v),c(e,$),c(e,O),Y(U,e,null),c(e,W),c(e,N),c(e,B),c(e,m),Y(z,m,null),c(m,j),c(m,le),c(m,K),Y(ee,m,null),J=!0},p(b,M){const T={};!A&&M[0]&1&&(A=!0,T.value=b[0],Te(()=>A=!1)),S.$set(T);const X={};!y&&M[0]&2&&(y=!0,X.value=b[1],Te(()=>y=!1)),U.$set(X);const ue={};M[0]&1&&(ue.email=b[0]),M[0]&2&&(ue.password=b[1]),z.$set(ue);const x={};M[0]&1&&(x.email=b[0]),M[0]&2&&(x.password=b[1]),ee.$set(x)},i(b){J||(C(n.$$.fragment,b),C(S.$$.fragment,b),C(U.$$.fragment,b),C(z.$$.fragment,b),C(ee.$$.fragment,b),J=!0)},o(b){I(n.$$.fragment,b),I(S.$$.fragment,b),I(U.$$.fragment,b),I(z.$$.fragment,b),I(ee.$$.fragment,b),J=!1},d(b){b&&F(e),Q(n),Q(S),Q(U),Q(z),Q(ee)}}}function Il(t){let e,n,l;return{c(){e=g("button"),e.textContent="Start Training"},m(i,a){P(i,e,a),n||(l=G(e,"click",t[17]),n=!0)},p:D,i:D,o:D,d(i){i&&F(e),n=!1,l()}}}function Ol(t){let e,n,l,i,a,o,r,s,u;return{c(){e=g("div"),n=g("input"),l=h(),i=g("div"),a=g("button"),a.textContent="Delete",o=h(),r=g("button"),r.textContent="Save",E(n,"type","text"),d(n,"width","300px"),E(a,"class","btn-gray"),E(i,"class","row"),d(i,"gap","16px"),E(e,"class","col"),d(e,"padding","16px"),d(e,"gap","16px")},m(f,p){P(f,e,p),c(e,n),ge(n,t[8].selectedAlg.Alg),c(e,l),c(e,i),c(i,a),c(i,o),c(i,r),s||(u=[G(n,"input",t[46]),G(n,"change",Zn),G(a,"click",t[47]),G(r,"click",t[48])],s=!0)},p(f,p){p[0]&256&&n.value!==f[8].selectedAlg.Alg&&ge(n,f[8].selectedAlg.Alg)},i:D,o:D,d(f){f&&F(e),s=!1,Ee(u)}}}function Tl(t){let e,n,l,i,a,o;return{c(){e=g("div"),n=g("input"),l=h(),i=g("button"),i.textContent="save",E(n,"type","text"),E(e,"class","col"),d(e,"padding","16px"),d(e,"gap","16px")},m(r,s){P(r,e,s),c(e,n),ge(n,t[8].algSetEditing.name),c(e,l),c(e,i),a||(o=[G(n,"input",t[44]),G(i,"click",t[45])],a=!0)},p(r,s){s[0]&256&&n.value!==r[8].algSetEditing.name&&ge(n,r[8].algSetEditing.name)},i:D,o:D,d(r){r&&F(e),a=!1,Ee(o)}}}function xl(t){let e,n,l,i,a,o,r,s,u,f,p,w,k,S,A=ut,v=[];for(let y=0;y<A.length;y+=1)v[y]=St(gt(t,A,y));const $=[El,Ll],O=[];function U(y,W){return!y[8].algSets||y[8].algSets.length===0?0:1}return s=U(t),u=O[s]=$[s](t),{c(){e=g("div"),n=g("p"),n.textContent="pre-built sets",l=h(),i=g("div");for(let y=0;y<v.length;y+=1)v[y].c();a=h(),o=g("p"),o.textContent="your sets",r=h(),u.c(),f=h(),p=g("button"),p.textContent="new custom set",d(n,"font-weight","bold"),d(i,"display","flex"),d(i,"flex-wrap","wrap"),d(i,"justify-content","center"),d(i,"gap","16px"),d(o,"font-weight","bold"),E(e,"class","col"),d(e,"padding","16px"),d(e,"gap","16px")},m(y,W){P(y,e,W),c(e,n),c(e,l),c(e,i);for(let N=0;N<v.length;N+=1)v[N].m(i,null);c(e,a),c(e,o),c(e,r),O[s].m(e,null),c(e,f),c(e,p),w=!0,k||(S=G(p,"click",t[43]),k=!0)},p(y,W){if(W[0]&4352){A=ut;let B;for(B=0;B<A.length;B+=1){const m=gt(y,A,B);v[B]?v[B].p(m,W):(v[B]=St(m),v[B].c(),v[B].m(i,null))}for(;B<v.length;B+=1)v[B].d(1);v.length=A.length}let N=s;s=U(y),s===N?O[s].p(y,W):(de(),I(O[N],1,1,()=>{O[N]=null}),pe(),u=O[s],u?u.p(y,W):(u=O[s]=$[s](y),u.c()),C(u,1),u.m(e,f))},i(y){w||(C(u),w=!0)},o(y){I(u),w=!1},d(y){y&&F(e),we(v,y),O[s].d(),k=!1,S()}}}function St(t){let e,n=t[54]+"",l,i,a,o;function r(){return t[39](t[54])}return{c(){e=g("button"),l=Z(n),i=h()},m(s,u){P(s,e,u),c(e,l),c(e,i),a||(o=G(e,"click",r),a=!0)},p(s,u){t=s},d(s){s&&F(e),a=!1,o()}}}function Ll(t){let e,n,l=t[8].algSets,i=[];for(let o=0;o<l.length;o+=1)i[o]=kt(ft(t,l,o));const a=o=>I(i[o],1,1,()=>{i[o]=null});return{c(){e=g("div");for(let o=0;o<i.length;o+=1)i[o].c();d(e,"width","100%"),d(e,"max-width","300px")},m(o,r){P(o,e,r);for(let s=0;s<i.length;s+=1)i[s].m(e,null);n=!0},p(o,r){if(r[0]&4352){l=o[8].algSets;let s;for(s=0;s<l.length;s+=1){const u=ft(o,l,s);i[s]?(i[s].p(u,r),C(i[s],1)):(i[s]=kt(u),i[s].c(),C(i[s],1),i[s].m(e,null))}for(de(),s=l.length;s<i.length;s+=1)a(s);pe()}},i(o){if(!n){for(let r=0;r<l.length;r+=1)C(i[r]);n=!0}},o(o){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)I(i[r]);n=!1},d(o){o&&F(e),we(i,o)}}}function El(t){let e;return{c(){e=g("p"),e.textContent="you don't have any sets yet",d(e,"font-style","italic")},m(n,l){P(n,e,l)},p:D,i:D,o:D,d(n){n&&F(e)}}}function kt(t){let e,n,l=t[51].name+"",i,a,o,r,s,u,f,p,w,k,S,A,v;function $(){return t[40](t[51])}s=new fe({props:{name:"edit",style:"width: 30px; height: 30px; padding: 4px;"}}),s.$on("click",$);function O(){return t[41](t[51])}w=new fe({props:{name:"x",style:"width: 30px; height: 30px; padding: 4px;"}}),w.$on("click",O);function U(){return t[42](t[51])}return{c(){e=g("button"),n=g("p"),i=Z(l),a=h(),o=g("div"),r=h(),R(s.$$.fragment),u=h(),f=g("div"),p=h(),R(w.$$.fragment),k=h(),d(n,"font-size","1.2rem"),d(o,"flex-grow","1"),d(f,"width","16px"),E(e,"class","row alg-list-item svelte-3n3qiq"),d(e,"width","100%"),d(e,"border-top","solid 1px var(--gray-500)"),d(e,"padding","4px")},m(y,W){P(y,e,W),c(e,n),c(n,i),c(e,a),c(e,o),c(e,r),Y(s,e,null),c(e,u),c(e,f),c(e,p),Y(w,e,null),c(e,k),S=!0,A||(v=G(e,"click",U),A=!0)},p(y,W){t=y,(!S||W[0]&256)&&l!==(l=t[51].name+"")&&oe(i,l)},i(y){S||(C(s.$$.fragment,y),C(w.$$.fragment,y),S=!0)},o(y){I(s.$$.fragment,y),I(w.$$.fragment,y),S=!1},d(y){y&&F(e),Q(s),Q(w),A=!1,v()}}}function Ul(t){let e,n,l,i;const a=[xl,Tl,Ol],o=[];function r(s,u){return s[8].modalType==="choose alg set"?0:s[8].modalType==="edit alg set"?1:s[8].modalType==="edit alg"?2:-1}return~(e=r(t))&&(n=o[e]=a[e](t)),{c(){n&&n.c(),l=Be()},m(s,u){~e&&o[e].m(s,u),P(s,l,u),i=!0},p(s,u){let f=e;e=r(s),e===f?~e&&o[e].p(s,u):(n&&(de(),I(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(s,u):(n=o[e]=a[e](s),n.c()),C(n,1),n.m(l.parentNode,l)):n=null)},i(s){i||(C(n),i=!0)},o(s){I(n),i=!1},d(s){~e&&o[e].d(s),s&&F(l)}}}function zl(t){let e,n,l,i,a,o,r,s,u,f,p,w,k,S,A;l=new ye({props:{name:"menu"}}),l.$on("click",t[13]);let v=t[2]==="train"&&mt(t);const $=[vl,bl],O=[];function U(m,z){return m[2]==="landing"?0:m[2]==="train"?1:-1}~(r=U(t))&&(s=O[r]=$[r](t));function y(m){t[38](m)}let W={};t[7]!==void 0&&(W.open=t[7]),f=new Zt({props:W}),Ie.push(()=>Oe(f,"open",y));function N(m){t[49](m)}let B={title:t[8].modalType,$$slots:{default:[Ul]},$$scope:{ctx:t}};return t[8].modalOpen!==void 0&&(B.open=t[8].modalOpen),k=new pl({props:B}),Ie.push(()=>Oe(k,"open",N)),{c(){e=g("main"),n=g("nav"),R(l.$$.fragment),i=h(),v&&v.c(),a=h(),o=g("div"),s&&s.c(),u=h(),R(f.$$.fragment),w=h(),R(k.$$.fragment),E(n,"class","navbar"),d(n,"justify-content","space-between"),E(o,"class","row"),d(o,"justify-content","center"),d(o,"align-items","start"),d(o,"width","100%"),d(o,"height","100%"),d(o,"position","relative"),d(o,"overflow-y","auto"),E(e,"class","col"),d(e,"width","100%"),d(e,"height","100%")},m(m,z){P(m,e,z),c(e,n),Y(l,n,null),c(n,i),v&&v.m(n,null),c(e,a),c(e,o),~r&&O[r].m(o,null),c(e,u),Y(f,e,null),c(e,w),Y(k,e,null),A=!0},p(m,z){m[2]==="train"?v?(v.p(m,z),z[0]&4&&C(v,1)):(v=mt(m),v.c(),C(v,1),v.m(n,null)):v&&(de(),I(v,1,1,()=>{v=null}),pe());let j=r;r=U(m),r===j?~r&&O[r].p(m,z):(s&&(de(),I(O[j],1,1,()=>{O[j]=null}),pe()),~r?(s=O[r],s?s.p(m,z):(s=O[r]=$[r](m),s.c()),C(s,1),s.m(o,null)):s=null);const le={};!p&&z[0]&128&&(p=!0,le.open=m[7],Te(()=>p=!1)),f.$set(le);const K={};z[0]&256&&(K.title=m[8].modalType),z[0]&256|z[2]&16&&(K.$$scope={dirty:z,ctx:m}),!S&&z[0]&256&&(S=!0,K.open=m[8].modalOpen,Te(()=>S=!1)),k.$set(K)},i(m){A||(C(l.$$.fragment,m),C(v),C(s),C(f.$$.fragment,m),C(k.$$.fragment,m),A=!0)},o(m){I(l.$$.fragment,m),I(v),I(s),I(f.$$.fragment,m),I(k.$$.fragment,m),A=!1},d(m){m&&F(e),Q(l),v&&v.d(),~r&&O[r].d(),Q(f),Q(k)}}}function Ml(t,e,n){let l="",i="",a="landing",o=-1;function r(L){o===L?n(3,o=-1):n(3,o=L)}let s,u,f=ot.get();function p(L){const qt=L.target.value;ot.set(qt)}let w=Me(),k=!1,S=jn(L=>{n(8,S=L)});const A=new hl(L=>{n(8,S=Object.assign(S,L)),Rn(S)});en(()=>{Yn()});const v=()=>n(7,k=!0),$=()=>r(0),O=()=>r(1),U=()=>r(2),y=()=>n(2,a="train"),W=L=>ze(L);function N(L){l=L,n(0,l)}function B(L){i=L,n(1,i)}const m=L=>ze(L),z=L=>ze(L),j=L=>{il(L),S.algSet?he():A.displayChooseAlgSet()},le=()=>{n(4,u=he())},K=()=>{it(!1,s).then(L=>{n(4,u=L),n(6,w=Me()),Ae()})},ee=()=>{it(!0,s).then(L=>{n(4,u=L),n(6,w=Me()),Ae()})},J=()=>Vn(),q=()=>r(-1),H=()=>{n(2,a="landing"),Qn()},te=()=>r(-1),V=()=>A.displayChooseAlgSet();function b(){f=tn(this),n(5,f)}function M(){S.showScramble=this.checked,n(8,S)}const T=()=>{al(S.showScramble),Ae()},X=()=>Xn(),ue=L=>Kn(L),x=()=>r(-1);function ie(L){k=L,n(7,k)}const ke=L=>{A.createPrebuiltAlgSet(S.user.uid,L,S.algSets).then(()=>{lt(),he()})},be=L=>A.editAlgSet(L.id,S.algSets),Mt=L=>A.deleteAlgSet(L.id,S.algSets,S.algSet),Pt=L=>{A.chooseAlgSet(L.id,S.algSets),lt(),he()},Ft=()=>A.createCustomSet();function Bt(){S.algSetEditing.name=this.value,n(8,S)}const Nt=()=>A.saveAlgSet(S.algSetEditing.id,S.algSetEditing.name,S.algSetEditing.trainingAlgs,S.algSets);function Wt(){S.selectedAlg.Alg=this.value,n(8,S)}const Dt=()=>el(),Gt=()=>tl();function Jt(L){t.$$.not_equal(S.modalOpen,L)&&(S.modalOpen=L,n(8,S))}return[l,i,a,o,u,f,w,k,S,r,s,p,A,v,$,O,U,y,W,N,B,m,z,j,le,K,ee,J,q,H,te,V,b,M,T,X,ue,x,ie,ke,be,Mt,Pt,Ft,Bt,Nt,Wt,Dt,Gt,Jt]}class Pl extends se{constructor(e){super(),re(this,e,Ml,zl,ce,{},null,[-1,-1,-1])}}new Pl({target:document.getElementById("app")});
