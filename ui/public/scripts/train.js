(()=>{var eU=(U,e)=>()=>(e||U((e={exports:{}}).exports,e),e.exports);var ZR=eU((De,OU)=>{OU.exports=[{cube:"3x3",name:"CMLL",algs:["R U R' U R U2 R'","R U R' U R' F R F' R U2 R'","F R' F' R U2 R U2 R'","R U' L' U R' U' L","R U R' U R U' R D R' U' R D' R2","L' U2 L U2 L F' L' F","L' U' L U' L' U2 L","R' U' R U' R' U R' F R F' U R","F' L F L' U2 L' U2 L","L' U R U' L U R'","R2 D R' U R D' R' U R' U' R U' R'","R U2 R' U2 R' F R F'","F R U R' U' R U R' U' F'","R' U' R' F R F' R U' R' U2 R","r U' r2' D' r U r' D r2 U r'","R' F R U F U' R U R' U' F'","R U2 R' U' R U R' U2 R' F R F'","F R' F' R U2 R U' R' U R U2 R'","F R U R' U' F'","R' U' R U' R' U2 R2 U R' U R U2 R'","F R2 D R' U R D' R2 U' F'","r U' r' U r' D' r U' r' D r","R2 D' R U2 R' D R U2 R","R2 D R' U2 R D' R' U2 R'","F' L F L' U' L' U L","F R' F' R U R U' R'","R U2 R2' F R F' R U2 R'","R U R' U R U' R' U R U' R' U R U2 R'","R' U2 R' D' R U2 R' D R2","R U2 R D R' U2 R D' R2","R U R' U' R' F R F'","L' U' L U L F' L' F","r U' r2' D' r U2 r' D r2 U r'","R U2 R' U' R U' R2 U2 R U R' U R","r' D' r U r' D r U' r U r'","r' U r U2 R2 F R F' R","R U R' U R U' R' U R U2 R'","F R U R' U' R U R' U' R U R' U' F'","r U' r2' D' r U' r' D r2 U r'","R U2 R2 F R F' U2 R' F R F'","R U R' F' R U R' U' R' F R2 U' R'","F R U' R' U' R U R' F' R U R' U' R' F R F'"]},{cube:"3x3",name:"OLL",algs:["R U2 R2 F R F' U2 R' F R F'","L F L' U2 L F2 R' F2 R F' L'","M R U R' U L F2 L' U M'","M U' L F2 L' U' R U' R' M'","R' F2 L F L' F R","L F2 R' F' R F' L'","L F R' F R F2 L'","R' F' L F' L' F2 R","R U R' U' R' F R2 U R' U' F'","R U R' U R' F R F' R U2 R'","M R U R' U R U2 R' U M'","M' R' U' R U' R' U2 R U' M","F U R U' R2 F' R U R U' R'","R' F R U R' F' R F U' F'","R' F' R L' U' L U R' F R","L F L' R U R' U' L F' L'","F R' F' R U S' R U' R' S","R U2 R2 F R F' U2 M' U R U' r'","S' R U R' S U' R' F R F'","S R' U' R U R U R U' R' S'","R U R' U R U' R' U R U2 R'","R U2 R2 U' R2 U' R2 U2 R","R2 D' R U2 R' D R U2 R","L F R' F' L' F R F'","F' L F R' F' L' F R","R U2 R' U' R U' R'","R U R' U R U2 R'","r U R' U' r' R U R U' R'","R U R' U' R U' R' F' U' F R U R'","F R' F R2 U' R' U' R U R' F2","R' U' F U R U' R' F' R","L U F' U' L' U L F L'","R U R' U' R' F R F'","R U R2 U' R' F R U R U' F'","R U2 R2 F R F' R U2 R'","L' U' L U' L' U L U L F' L' F","F R' F' R U R U' R'","R U R' U R U' R' U' R' F R F'","L F' L' U' L U F U' L'","R' F R U R' U' F' U R","R U R' U R U2 R' F R U R' U' F'","R' U' R U' R' U2 R F R U R' U' F'","F' U' L' U L F","F U R U' R' F'","F R U R' U' F'","R' U' R' F R F' U R","R' U' R' F R F' R' F R F' U R","F R U R' U' R U R' U' F'","L F' L2 B L2 F L2 B' L","R' F R2 B' R2 F' R2 B R'","F U R U' R' U R U' R' F'","R U R' U R U' B U' B' R'","R' F' L F' L' F L F' L' F2 R","L F R' F R F' R' F R F2 L'","R' F R U R U' R2 F' R2 U' R' U R U R'","R' F' R U' L' U L U' L' U L R' F R","S R' F R S' R' F' R"]},{cube:"3x3",name:"PLL",algs:["R' F R' B2 R F' R' B2 R2","R2 B2 R F R' B2 R F' R","R' U' F' R U R' U' R' F R2 U' R' U' R U R' U R","R2 U R' U R' U' R U' R2 U' D R' U R D'","R' U' R U D' R2 U R' U R U' R U' R2 D","R2 U' R U' R U R' U R2 U D' R U' R' D","R U R' U' D R2 U' R U' R' U R' U R2 D'","x R2 F R F' R U2 L' B L U2 x'","R U R' F' R U R' U' R' F R2 U' R'","R U' R' U' R U R D R' U' R D' R' U2 R'","R2 F R U R U' R' F' R U2 R' U2 R","R U R' U' R' F R2 U' R' U' R U R' F'","x' R U' R' D R U R' D' R U R' D R U' R' D' x","R U R' U R U R' F' R U R' U' R' F R2 U' R' U2 R U' R'","R' U R U' R' F' U' F R U R' F R' F' R U' R","R' U R' U' y R' F' R2 U' R' U R' F R F","F R U' R' U' R U R' F' R U R' U' R' F R F'","M2 U M2 U2 M2 U M2","M2 U M U2 M' U M2","M2 U' M U2 M' U' M2","M' U M2 U M2 U M' U2 M2"]},{cube:"3x3",name:"ZBLL",algs:["R' D R D' R' D R U R' D' R D R' D' R","R' U R U2 R' U' R U' R U R' U' R' U' R U R U' R'","R' U2 R U R' U R2 U2 R' U' R U' R'","R U2 R' U' R U' R2 U2 R U R' U R","R' U R U2 R' U' R U2 R' U' R U' R' U R","R U' R' U2 R U R' U2 R U R' U R U' R'","R' U R2 U R' U R' U' R U' R' U' R U R U' R'","R U R' U R U' R' U R' U' R2 U' R2 U2 R","R' U2 R U R' U R U' R' U' R U' R' U2 R","R U2 R' U' R U' R' U R U R' U R U2 R'","R' U' R2 U R2 U R2 U2 R' U R' U R","R U R2 U' R2 U' R2 U2 R U' R U' R'","R U R' F' R U R' U' R' F R U' R' F R U R U' R' F'","R' U' R U' R' U' R2 D r' U2 r D' R2 U' R","R U' R2 D' r U2 r' D R2 U R'","R' U R2 D r' U2 r D' R2 U' R","R' U2 R U2 R2 D' R U2 R' D R2 U' R' U R","R U R' U2 R' D' R U R' D R2 U' R' U R U' R'","R' U' R U R2 D' R U2 R' D R2 U2 R' U2 R","R U R' U' R U R2 D' R U' R' D R U2 R U' R'","R' D' R U' R' D R U' R U' R' U R U' R' U' R U R'","R U' R' U R U R' U' R U R' U R' D' R U R' D R","R U R D R' U R D' R' U L' U R' U' L","r U r' R U R' U' R U R' U' r U' r' F R U R' U' F'","R' U R U2 R' L' U R U' L","R U' R' U2 R L U' R' U L'","R' U' R2 U R' F' R U R' U' R' F R2 U' R' U' R' U R","r U' r U2 R' F R U2 r2 F","R' U' R' D' R U R' D R U2 R U R' U R","R U R D R' U' R D' R' U2 R' U' R U' R'","R D R' U' R D' R' U' R' U R U' R' U R U R' U' R","R' D' R U R U' R' U R U' R' U' R U R'","R' U' R U' R' U R F U' R' U2 R U F'","R U R' U R U' R' U' L' U2 R U2 R' U2 L","R' U2 R U R' U R F U R U2 R' U R U R' F'","r' U' R' F2 R F' R' F2 R2 U' R' U2 r","R' F2 R' B2 R F2 R' B2 R2","R' U2 R U' R' F R U R' U' R' F' R U' R","R' U2 R' D' R U2 R' D R' U R' U R U2 R'","R U2 R D R' U2 R D' R U' R U' R' U2 R","R U R D R' U' R D' R' U R' U R U2 R'","R' U' R' D' R U R' D R U' R U' R' U2 R","R' U R2 D R' U R D' R' U R' U' R U' R' U' R","R U' R2 D' R U' R' D R U' R U R' U R U R'","R' U' R U' F U' R' U R U F' R' U R","R' D' R U R' D R2 U R' U2 R U' R' U' R U' R'","F R U R' U' R U' R' U' R U R' F'","R U R' U2 R U' R' U2 R U' R2 F' R U R U' R' F","R U R D R' U' R D' R2","R U2 R' U2 R' F R U R U' R' F'","R2 B2 R' U2 R' U2 R B2 R' U R U' R'","R' D' R U R' D R2 U' R' U R U R' U' R U R'","F' U' r' F2 r U' r' F' r F","R U R' U' R U' R' L U' R U R' L'","R U R' U R U R' U2 L R U' R' U L'","R' U' R U' R2' F' R U R U' R' F U R U' R' U2 R","R' U' R U R' U' R2 D R' U2 R D' R' U R' U R","R U R D R' U2 R D' R' U' R' U R U' R' U' R U' R'","F R U R' U' R' F' U2 R U R U' R2 U2 R","R U' R' U' R U R D R' U2 R D' R' U' R'","x' U' R' D R U R' D' R x","R U R' U' R' F' R U2 R U2 R' F","R2 F2 R U2 R U2 R' F2 R U' R' U R","R D R' U' R D' R2 U R U' R' U' R U R' U' R","F U R U2 R' U R U R' F'","R U R' U' R U' R'  U' F R U R' U' R' F' R","R' U' R U' R' U R' U' R U R' F' R U R' U' R' F R'","F R U R' U' R U R' U' F' R U R' U' R' F R F'","R U R' U' R U R2 D' R U2 R' D R U' R U' R'","R' U2 R F U' R' U R U F' R' U R","R' U2 R2 U R' U' R' U2 F' R U2 R U2 R' F","R' U R U R' U' R' D' R U2 R' D R U R","R U2 R' U' R U' R' U2 R' U2 R U R' U R","R U R' U' R U' R U2 R2 U' R U R' U' R2 U' R2","R' U' R U' R' U2 R2 U R' U R U2 R'","R U R' U R U2 R2 U' R U' R' U2 R","R U R' U' R U' R' U2 R U' R' U2 R U R'","R' U' R U R' U R U2 R' U R U2 R' U' R","R U2 R2 U' R2 U' R' U R' U' R U R' U R","R' U2 R2 U R2 U R U' R U R' U' R U' R'","R' U2 R U R' U R U R' U' R U' R' U2 R","R U2 R' U' R U' R' U' R U R' U R U2 R'","R' U' R U' R U2 R2 U' R2 U' R2 U R","R U R' U R' U2 R2 U R2 U R2 U' R'","R' U' R U' F U' R' U R U R' U R U' F'","R U R' U L' U R U' M' x' U' R U' R'","R U2 R2 F R F' M' U' R U' R' U M","R' U2 R F U' R' U R U R' U R U' F'","R2 D R' U' R D' R' U' R' U R U R'","R2 D' R U R' D R U R U' R' U' R","R U' R' U' R U R D R' U R D' R2","R' U R U R' U' R' D' R U' R' D R2","M' U R' U' F' U F R2 U R' U R U2 r'","F R U R' U' R U R' U' F' U' R' F' U' F U R","F R U' R' U' R U2 R' U' R U' R' U' R U2 R' U' F'","r' U' R' F R U r F R U' R' F'","R' F R U' R' U' R U R' F' R U R' U' R' F R F' R","F2 R U' R' U' R U R' F' R U R' U' R' F R F2","R U' R' U R U' L U r' F U2 R U2 R2 x","R' U R U R' F' R U R' U' R' F R2 U' R' U2 R U' R' U2 R","R U' L U L' U R' U' l U2 R U2 R2 x","R' U L' U' L U' R U l' U2 R' U2 R2 x'","F R U R U2 R' U' R U' R' U2 R' U2 R U' R' U' F'","r U R' U' r' F R2 U' R' U' R U2 R' U' F'","F U R U2 R' U R U R2 F' r U R U' r'","R U2 R' U2 R' F R U R U2 R' U' R U2 R' U' F'","R' U' R F R2 D' R U R' D R2 U' F'","r U R' U' r' F R U R' U' R F' R' U R","x R2 U2 R' D2 R U2 R' D2 R' x'","x R2 D2 R U2 R' D2 R U2 l","R U R' U R U' R' U2 R' D' R U2 R' D R2 U' R'","R' U2 R U R' U R' D R' U2 R D' R' U2 R'","R U' R' U' R U' R' U R' D' R U R' D R2 U R'","R' U R U R' U R U' R D R' U' R D' R2 U' R","R' U2 R U R' U R' D' R U' R' D R U R","R U' R' U' R U2 R' U2 R' D' R U' R' D R","R' U' R U2 R' F' R U R' U' R' F R2 U2 R' U R","R U R' U R U R' U2 R U' R2 D' R U' R' D R","F R U' R' U R U R' U R U' R' F'","F' R U R' U' R' F R2 U R' U2 R U R' U2 R U' R'","R2 D' r U2 r' D R U2 R","R2 D' R U2 R' D R U2 R","R U' R' D R' U' R D' R2 U R' U' R' U2 R'","R U R' U R U2 R2 U z U R' D R U' z'","R2 D' R U' R' D R2 U' R' U2 R","R' U R U R' U2 R U2 y R U' R' U2 R U' R'","R2 D R' U R D' R2 U' R U' R' U2 R U' R' U2 R U R'","R2' F' R U2 R U2' R' F U' R U R' U' R","R' U2 R2 D R' U2 R D' R2 U R U2 R' U2 R","R U R' U2 F2 R U2 R' U2 R' F2 R2 U R'","R' U2 R' D' R U2 R' D R U2 R U R' U R","R' U R U' R' U' R U2 R D R' U' R D' R2 U' R","R' U2 R U R2 F' R U R U' R' F R","R2 D R' U2 R D' R' U2 R'","R' U' R U R U R' U' R' U F R U R U' R' F'","R U' R' U' R U2 R' U' R' D' R U2 R' D R","R U R2 D' R U R' D R2 U2 R'","R U' R' U' R U2 R' U2 y' R' U R U2 R' U R","R' U R' U' D' R U' R' U2 R U' R' D R U' R","R U R' U R U' R' U F' R U2 R' U2 R' F R","R' U' R U R' U R U2 F R' U R U' F' R' U2 R","R U R' U R U' R' U R U' R' U' L' U R U' R' L","R U2 R D R' U2 R D' R' U2 R' U' R U' R'","R U' R' U R U R' U2 R' D' R U R' D R2 U R'","R U2 R' U2 R' U' R U R U' R' U2 R' U2 R","R U R' U R U' R' U R U' R' U R U2 R'","R U2 R' U' R U' R' U2 R U R' U R U2 R'","R U R' U R U2 R' U2 R U2 R' U' R U' R'","R2 U R' U R' U' R U' R' U' R U R U' R2","R2 U' R U' R U R' U R U R' U' R' U R2","R' U2 R U R' U R U' R U2 R' U' R U' R'","R U2 R' U' R U' R' U R' U2 R U R' U R","R2 U R' U' R' U R U R' U R U' R U' R2","r U r' U R U' R' U R U' R' M' U R U2' r'","R U R' U R U2 R' U R' U' R U' R' U2 R","R' U' R U' R' U2 R U' R U R' U R U2 R'","F R U' R' U' R U R D R' U' R D' R' U2 R' U' F'","F R U R2' F R F' R U' R' F'","L' U2 R U' R' U2 L R U' R'","R' U' R U R' F' R U R' U' R' F R2","R' U F' R U R' U' R' F R2 U' R' U' R U R' U' R","R U' R' U R U R' U R U' R2' D' R U R' D R","r U2 R r2 F R' F' r2 U2 r'","r U2 r2 F R F' r2 R' U2 r'","F R U R' U' F' r U r' U R U' R' r U' r'","r U r' R U R' U' r U' r' F U R U' R' F'","R U R' U R U' R' F2 R U2 R' U2 R' F2 R2 U' R'","R U R2 F2 R U2 R U2 R' F2 R U R' U' R U' R'","F' r U R' U' r' F R","R' U' R U R' F2 R U2 R' U2 R' F2 R2","F' R U2 R' U2 R' F R U R U' R'","R' U R U' R' U R U R' U' R2 D R' U R D' R'","F R U' R' U' R U2 R' U' F'","R' U' R U2 R' F' R U R' U' R' F R2 U R' U2 R","R' F R U R U' R' F' U R U R' U R U' R'","R2 D' R U' R' D R U R' U' R' U' R U R U R U' R","F R' F' R U R U' R' F U R U' R' U R U' R' F'","F' R U2 R' U2 R' F U2 R U R U' R2 U2 R","R U R' U R' D' R U2 R' D R2 U' R' U R U' R'","R' U' R' D' R U2 R' D R U R U' R' U' R","F R' F' r U R U' r'","R U R' U' R B2 R' U2 R U2 R B2 R2","F R U R' U' R' F' R U2 R U2 R'","R U' R' U R U' R' U' R U R2 D' R U' R' D R","R' F' R U R' U' R' F R U' R U R' U R","R U R' U R U R' U' R U R D R' U2 R D' R' U' R'","L R U' R' U R L' U R' U R U' R'","L U' R U R' L' U2 R U' R' U' R U' R'","R' U2 R U R' U' F' R U R' U' R' F R2 U R' U R","R' U2 R2 U R' U' R' U2 F R U R U' R' F'","R U R' U R U' R' U' L' U R U' M' x'","R U R D R' U2 R D' R' U' R' U R U R'","R' U2 R' D' R U2 R' D R2","R' U2 R' D' r U2 r' D R2","R D R' U2 R D' R' U' R' U2 R U' R' U' R","R U2 R U R U' R2 D R' U R D' R U R'","R U R' U2 R U R' U2 y' R' U2 R U' R' U' R","R' U2 R U R2 D' R U R' D R2","R U R' U' R U' R' U L' U R U' L U' R'","R U' R' U2 R U R' U2 R U R' U R2 D R' U' R D' R2","R' U2 R U2 R' U' R2 D R' U2 R D' R2 U2 R","F' R U R' U' R' F R2 U' R' U' R U' R' U R U R'","R U' R2 F2 R U2 R U2 R' F2 U2 R U' R'","R' U R2 D R' U R D' R' U2 R' U R U R' U' R","R U2 R D R' U2 R D' R2","R' F' R U R' U' R' F R2 U' R' U2 R","L' U R U' L U R2 U2 R U R' U R","F R U R' U' R' F' U' R U R U' R' U' R' U R","R' U' R U2 R' U' R y U2 R U2 R' U R U R'","R U2 R' U' R2 D R' U' R D' R2","R' U' R U R' U R U' L U' R' U L' U R","R' U R' D' R U R' U2 R U R' D U R U' R","R U2 R' U2 R U R2 D' R U2 R' D R2 U2 R'","R U R' U R U2 R D R' U2 R D' R' U2 R'","R' U R2 B2 R' U2 R' U2 R B2 U2 R' U R","R U' R2 D' R U' R' D R U2 R U' R' U' R U R'","R' U' R U R U2 R' U' R U' R2 U2 R","R U R' U' R' U2 R U R' U R2 U2 R'","R' U2 R U R' U R2 U R' U R U2 R'","R U2 R' U' R U' R2 U' R U' R' U2 R","R U2 R' U2 R U' R' U2 R U' R' U2 R U R'","R' U2 R U2 R' U R U2 R' U R U2 R' U' R","R U' R' U2 R U R' U2 R U R' U2 R U2 R'","R' U R U2 R' U' R U2 R' U' R U2 R' U2 R","R' U2 R2 U R2 U R2 U2 R'","R U2 R2 U' R2 U' R2 U2 R","R U R' U' R' U' R U R U R' U' R' U R U' R U' R'","R U2 R' U' R U' R' U' R U2 R' U' R U' R'","R2 U R' U2 R' U' R U R D R' U R D' R' U R U' R2'","F R2 U' R U2 R U R' U R' U R2 F'","F U R' U' R2 U' R2 U2 R U2 R U R' F'","r' U' R U' R' U R U' R' U R' F R F' U r","R U2 R' U' F' R U2 R' U' R U' R' F R U' R'","R U R' U r' F R F' r U' R' U R U2' R'","r U R' U R' F R F' R U' R' U R U2' r'","R U R' U' R U R2 D' R U' R' D R U' R U2 R'","R U2 R' U R' D' R U R' D R2 U' R' U R U' R'","R' U2 R U' R D R' U' R D' R2 U R U' R' U R","R2 D R' U' R D' R' U' R' U R U' R' U' R U' R'","R2 D' R U R' D R U R U' R' U R U R' U R","F U R U2 R' U R U R' F' R U2 R' U' R U' R'","r U' r' U' r U r' U' l R U' R' U l'","r' U r U r' U' r U R2 F R F' R","r' U' R U' R' U2 r U' R U2 R' U2 R' F R F'","R' U' R U R2 F' R U R U' R' F U' R U R' U R","R U2 R D' R U' R' D R' U' R2 U2 R","R' U' R U' R2 D' R U R' D R2 U' R' U2 R","L' U R U' L U' R' U' R U' R'","R U' L' U R' U L U L' U L","R2 D' R U2 R' D R2 U R2 D' R U R' D R2","R2 D R' U2 R D' R2 U' R2 D R' U' R D' R2","R U2 R2 F R U R U2 R' U' R U2 R' U' F' R U R'","R U2 R2 U' R U' R' U2 F R U R U' R' F'","R U R' U R U2 R2 F' r U R U' r' F","r' F' r U' r' F2 r2 U R' U' r' F R F'","F R U R' U' R' F' R U2 R' U' R2 U' R2 U2 R","R' U' R L U2 R' U2 R U2 L' U R' U2 R","F U' R U' R' U R U R' U2 R U2 R' U F'","R2 D' R U' R' D R U R' D' R U R' D R U R U' R' U' R","R' U' F' R U R' U' R' F R2 U2' R' U2 R","R U R' U R U' R' U' R' F' R U2 R U2' R' F","R' U' R' D' R U R' D R' U R' U R U2 R'","R U R D R' U' R D' R U' R U' R' U2 R","F U R U' R' U R U2 R' U' R U R' F'","r' F' r U r U2 r' F2 U' R U R' U' R U' R'","R U2 R' U2 R' F R2 U' R' U2 R U2 R' U' F'","R' F R U R' U' R' F' R2 U' R' U R U' R' U2 R","R' L U2 R2 U R2 U R U L' U' R U2 R'","l U2 l' U2 R' U2 R B2 U R' U R","R U R' U F2 R U2 R' U2 R' F2 R","R' U2 R U R' U R2 U' L' U R' U' L","R U R' U R U' R' U R U' R D R' U' R D' R2","R U R' U' R' F R2 U R' U' R U R' U' F'","R2 D R' U2' R D' R2' U' R U' R' U R U2' R' U' R U' R'","R U2 R' U' R U R' U2 L' U R U' M' x'","L R' U' R U L' U2 R' U R U' R' U2 R","R U R' U R U' R2' F R F' R U' R' F' U F","F U R U2 R' U2 R U R2 F' R U2 R U2 R'","R U' R' U' R U' R' U R U R' U R' F' R U R U' R' F","R' U2 R U R' U' R U R2 F R U R U' R' F' R","R' F2 R U2 R U2 R' F2 U' R U' R'","R' U' R U' B2 R' U2 R U2 l U2 l'","R U2 R' U' R U' R2 U L U' R U L'","R' U' R U' R' U R U' R' U R' D' R U R' D R2","F U R U' R' U R U' R2 F' R U R U' R'","R U R' U R U2' R' U' R U R' U R2 D R' U2 R D' R2'","R' U2 R U R' U' R U2 L U' R' U R L'","R L' U R' U' L U2 R U' R' U R U2 R'","R U2 R' U' R U' R' U' R' U' R U' R' U2 R","R' U2 R U R' U R U R U R' U R U2 R'","R' U' R U' R' U R U' R' U2 R","R U R' U R U' R' U R U2 R'","R' U2 R U R' U' R U R' U R","R U2 R' U' R U R' U' R U' R'","R U R' U R U' R' U R U' R' U R' U' R2 U' R' U R' U R","R U R' U R U2 R' U' R' U2 R U R' U R","R U2 R D R' U' R D' R2 U' R' F R U R U' R' F'","F U R U' R' U R U' R' U R U' R' F'","R U R' y' U R' U R U' R2 F R F' R","R' U' R y U' R U' R' U R l U' R' U l'","F R U R' U' R U R' U' F' U R' F' U' F U R","R' U' R U' R' U2 R U R' U' R U R' F' R U R' U' R' F R2","L' U L U' L' U' L U R' U' R U L' U' L U2 R' U' R","R U' R' U R U R' U' L U L' U' R U R' U2 L U L'","R U R' U R U2 R' F R U' R' U' R U2 R' U' F'","R U R2 F R F' r U' r' U r U r' U2","R' F R' F' R2 U' r' U r U' r' U' r","R' U' R U' R' U' L U' R U L'","R U R' U R U L' U R' U' L","R' U' R U' R' U F' R U R' U' R' F R2 U' R' U R","R U R' U R' U' R2 U' R2 U' L U' R U L'","R' U2' R U R2' D' R U' R' D R2 U R' U R","R U2 R' U' R2 D R' U R D' R2' U' R U' R'","F R U' R' U' R U2 R' U' F' U R U R' U R U2 R'","R2 D' R U' R' D R2 U' R2 D' R U2 R' D R2","R2 D R' U R D' R2' U R2 D R' U2 R D' R2'","F R' F' r U R U' r2 F2 r U r' F r","R U R' U' R' F R U R U' R' F' R U R' U R U2 R'","R' U2 R U' L U2 R' U2 R U2 L' R' U R","R U2 R' U L' U2 R U2 R' U2 L R U' R'","F U' R U2 R' U2 R U' R' U' R U R' U F'","R' F R U R' U' F' R U' R' U R' F R F' U R","R U2 R' U' R U' R D' R U' R' D R U R","R U2 R2 F U' R2 U' R2 U F' U R","R' U2 R U2' R2 F' R U R U' R' F U R","F B' R2 B R2 U' R2 U' R2 U R2 F'","R' U' R U' R' U R U R' F R U R' U' R' F' R2","F R U' R' U R U2 R' U' R U R' U' F'","R' U R2 U R' U R U2 R U2 R U R' U R2","R' U2 R2 U R  U' R' U R U R2 U' R'","R U R' U R U2 R'","R' U2 R U R' U R","R U R2 U' R2 U' R2 U2 R2 U2 R'","R' U' R U' R U R2 U R2 U2 R'","R U R' U' R' U2 R U R U' R' U R' U R","R' U' R U R U R' U' R' U R U R U' R'","R U R' U R U' R' U R' U' R2 U' R' U R' U R","R U R' U R U R U R U R U' R' U' R2","R U R' U R' U' R2 U' R' U R' U' R U R' U R","R U R' U R U' R' U R' U' R' U R U' R' U' R2 U R","F U' R' U R U F' R U R2 U R2 U2 R'","R' D' R U' R' D R U2 R U R' U2 R U R'","R' U2 R U R' U' R F U' R' U' R U F'","R' U R U2 R' U R U2 R D R' U' R D' R'","L' U2 R U' R' U2 L U R U' R' U R U2 R'","F R U R' U' R U R2 U' F' U R U R U' R'","R U R' F' R U R' U R U2 R' F R U' R'","R U2 L' R' U2 R U2 R' U2 L U' R U' R'","R U' R2 U2 D' R U R' U D R2 U R'","F U R' F R F' R U' R' U R U' R' F'","R U R' U' L' U R U' L U' L' U R' U' L","F R U' R U2 R' U2 R' U' R U2 R' U' R2 U' R2 F'","R U' L' U R' U' L","R' U2 R U R' U' R' D' R U2 R' D R2","R' D U' R' U R U2 D' R2 U R' U' R'","R' U' R' U R2 D' U2 R U R' U' D R'","R2 D R' U2 R D' R' U' R' U R U2 R'","D' R U R' U R U' R' U' D R2 U' R U' R' U R' U R2","R U R' U R U R' U' R U R D R' U' R D' R' U2 R'","R' U2 R U R' U' R' D' R U' R' D R U R U' R' U' R","R' U2 F' R U R' U' R' F R U2 R","R2 U R U R' U' R' U' R' L' U R' U' L","R U2 R' U2 R' F R2 U R' U' R U R' U' F'","R U R' U R U' R' U' R' F R2 U' R' U' R U R' F'","R2 U R' U R D R' U2 R D' R' U R U' R2'","R U R' U R U' R D R' U' R D' R2","R U' R' U' R U' R' U2 R U R2 D' R U2 R' D R","F U R U' R' U R U' l U' R2 D' R U R' x","R2 D' R U' R' D R U' R U R' U R","R U2 R' L' U2 R U R' U2 L R U2 R'","R' D' R U R' D R2 U' R' U R U R' U' R U2 R' U R U2 R'","R U' R' U' R U R D R' U2 R D' R2 U R U2 R'","R' U2 R' D' R U R' D R U' R U R' U R","R' U' R U' R2 F' R U R U' R' F U2 R","R U R' U R' D' R U R' D R U' R U2 R'","R U2 R' U' R U R' U' R U R D R' U2 R D' R2","f R' F' R U2 R U2 R' U2 S'","R' D' R U R' D R2 U R' U2 R U R'","R' D R' U R D' U R U' R' U' R2 U R U' R'","R' U2 R U R2 D' R U' R' D R U2 R","R2 D' r U2 r' D R2 U R' U R","R' U2 R U R' U R' D' R U2 R' D R U2 R","R L' U R' U' L U2 R U2 R'","R2 D' R U2 R' D R2 U R' U R","R2 F R U R U' R' F' R U' R' U R","R U R' U R' U' R' D' R U R' D R' U2 R'","R' U' F U' R2 U R2 U F' R U' R U' R'","R2 D' R U2 R D2 R' U' R D2 R' U R' D R U2 R","R U R' U' R U R2 D' R U2 R' D R2 U2 R'","R U R' U R U' R2 F' R U R U' R' F R U' R'","R U R' U R2 D r' U2 r D' R2","R' U R U2 R' U R2 D R' U R D' R'","R' U' R U R2 U' R' U' R U D' R U R' D R'","R U R' U R2 D R' U2 R D' R2","R' U2 R U2 L U' R' U L' R","R U2 R D R' U2 R D' R' U R' U R U2 R'","R U R2 F' R U2 R U2 R' F R U' R'","R U R' U' R U R2 D' R U R' D R U R U2 R'","F' R U R' U R U2 R' F U R U' R' U2 R U' R'","R' F R U R' U' R' F' D' R U R' D R2","R2' D' R U2 R' D R U R' F R U R U' R' F' R","R U2 R2 U' R' U R U' R' U' R2 U R","R' U' R U' R' U2 R","R U2 R' U' R U' R'","R' U' R2 U R2 U R2 U2 R2 U2 R","R U R' U R' U' R2 U' R2 U2 R","R' U' R U R U2 R' U' R' U R U' R U' R'","R U R' U' R' U' R U R U' R' U' R' U R","R U R' U R' U' R U R' U' R2 U' R2 U R U' R' U R","R' U' R U' R' U' R' U' R' U' R' U R U R2","R U R' U' R U R2 U' R2 U' R' U R U' R' U R' U R","R U R' U R' U' R' U R U' R' U' R' U' R' U2 R","R U2 R2 U' R2 U' R' F U' R' U' R U F'","R D R' U R D' R' U2 R' U' R U2 R' U' R","R U2 R' U' R U R' L' U R U' L U2 R'","R U' R' U2 R U' R' U2 R' D' R U R' D R","F U' R' U R U F' R' U R U' R' U2 R","R U R' U L' U2 R U2 R' U2 R L U2 R'","R U R' F' R U2 R' U' R U' R' F R U' R'","R U  R' U' R' U' F U R2 U' R' U R U' R' F'","R' U R2 U2 D R' U' R U' D' R2 U' R","R' U R U R' U r U' R' U R U r' R' F R F' U R","z D' R' D R U R' D' R U' R U R' D R U' z'","R U2 R' U' R U r' F r U2 R' U' r' F2 r","R' U L U' R U L'","R U2 R' U' R U R D R' U2 R D' R2","R D' U R U' R' U2 D R2 U' R U R","R U R U' R2 D U2 R' U' R U D' R","R2 D' R U2 R' D R U R U' R' U2 R","D R' U' R U' R' U R U D' R2 U R' U R U' R U' R2","R' U' R U' R' U' R U R' U' R' D' R U R' D R U2 R","R U2 R' U' R U R D  R' U R D' R' U' R' U R U R'","F U R U' R' U R U' R2 F' R U2 R U2 R'","F R U' R' U R U R2 F' R U R U R' U' R U' R'","R' U2 R' F' R U R U' R' F U2 R","L' U R U' L R U R U R U' R' U' R2","R D' R2 D R2 U' R2 D' R2 D R2 U R","R' U' R U' R' U R' D' R U R' D R2","l U' R' D R2 U l' U R' U' R U R' U' F'","R' D' R U2 R' D R2 U' R' U2 R U R' U R U R'","R2 D R' U R D' R' U R' U' R U' R'","R U2 R' L' U2 R U' R' U2 L R U2 R'","R U R' U' R' U' R U R U' R' U' R2 D' R U' R' D R U2 R","R U2 R' U' R2 D R' U2 R D' R' U' R' U R U R'","R U2 R' U R' D' R U' R' D R U' R U' R'","R2 D R' U2 R D' R' U' R' U R U' R' U  R U2 R'","R' U' R U' R D R' U' R D' R' U R' U2 R","R' U2 F' R U R' U' R' F R2 U R' U R","R U2 R2 D' R U2 R' D R2 U' R' U R U' R'","R D R' U' R D' R2 U' R U2 R' U' R","R D' R U' R' D U' R' U R U R2 U' R' U R","R U R' F' R U R' U' R' F R2 U R' U' R U' R'","R2 D r' U2 r D' R2 U' R U' R'","R U2 R' U' R U' R D R' U2 R D' R' U2 R'","L R' U' R U L' U2 R' U2 R","R2 D R' U2 R D' R2 U' R U' R'","R U R' F' R U2 R' U2 R' F R2 U' R'","R U2' R' U' R' D' R U' R' D R2 U' R' U R U' R'","R U R' U2 R U R' U' F' R U2 R' U' R U' R' F","R2 D' R U' R' D F R U R U' R' F' R","R U2 R' U' F' R U R' U' R' F R2 U' R'","R' U2 R' D' R U R' D R2 U' R' U2 R","R' U' R U' R2 D' r U2 r' D R2","R U' R' U2 R U' R2 D' R U' R' D R","R U R' U' R2 U R U R' U' D R' U' R D' R","R' U' R U' R2 D' R U2 R' D R2","R U2 R' U2 L' U R U' R' L","R' U2 R' D' R U2 R' D R U' R U' R' U2 R","R' U' R U R' F R U R' U' R' F' R2","R U2 R D' R U' R' D R U R U' R U' R'","R U R' U R' F U' R2 U' R2 U F' U R","R U R' U R' U' R2 U' R D' R U R' D R U R"]},{cube:"2x2",name:"2x2 CLL",algs:["R U R' U R U2 R'","R U R' U R' F R F' R U2 R'","F R' F' R U2 R U2 R'","R U' L' U R' U' L","R U' R U' R' U R' U' F R' F'","L' U2 L U2 L F' L' F","L' U' L U' L' U2 L","R' U' R U' R' U R' F R F' U R","F' L F L' U2 L' U2 L","L' U R U' L U R'","R2 F R U2 R U' R' U2 F' R","R U2 R' U2 R' F R F'","F R U R' U' R U R' U' F'","R' U' R' F R F' R U' R' U2 R","R' F R F' R U' R' U' R U' R'","F R2 U' R2 U R2 U R2 F'","R U2 R' U' R U R' U2 R' F R F'","F R' F' R U2 R U' R' U R U2 R'","F R U R' U' F'","R U R2' U' R U2 R' U2' R U' R","F R U R' U2 F' R U' R' F","x R U' R U' R' U R' F' R x2","R U' R2 F R F' R U R' U' R U R'","R' U R' F R F' R U2 R' U R","F' L F L' U' L' U L","F R' F' R U R U' R'","R U2 R2' F R F' R U2 R'","R' U R' U2 R U' R' U R U' R2","R U' R' U R U' R' F R' F' R2 U R'","R' F' R U R' U' R' F R2 U' R' U2 R","R U R' U' R' F R F'","L' U' L U L F' L' F","F U' R U2 R' U' F2 R U R'","R' U R' U2 R U2 R' U R2 U' R'","R' U2 R' F2 R F2 R' F2 R2","R' U R U2 R2 F R F' R","R2 U2 R U2' R2'","x' U2 R U2 R2 F2 R U2 x","R U R' U R U R' F R' F' R","F R2 U' R2' U' R2 U R2' F'","R U R' F' R U R' U' R' F R2 U' R'","R' U R' F2 R F' U R' F2 R F' R"]},{cube:"2x2",name:"2x2 EG1",algs:["R' F R2 F' R2 U2 R","R U R' F2 U F R U R'","F R' F' R U R' F' R2 U R'","F' U R U' R' U F R U R'","R U' R' U R U' R' U F R U' R'","L' U L2 F' L' U L F' L' F","B U' R2 F2 U' F","R U' R' F' U' F2 R U' R'","F' L F L' U' L F L2 U' L","R U' R' F' U' R U R' U' F","R U R' F' U' R U R' U' R U R'","R U' R2 F R U' R' F R F'","F2 R U R' U2 R U R' U' F","R' F R2 U' R2 F R","F R' F U' F2 R U R","R U' R' U R U' R' F R U' R'","F U' R U2 R' F' R U R' F'","F R U' R' F R U2 R' U F'","R2 U' R' U' R U' R' U R'","x U' R' U R U' F R U R U' x'","F' U2 R U2 R' U2 F","R' F R F' R' F R2 U' R'","R U' R' U R U' R' U R' F' R F","L' U L U' L U L U' L F L' F'","R U' R' U R U' R2 F' R F","L' U L U' L' U L2 F L' F'","R' U R2 U' R2 U' F R2 U' R'","R' F2 R F' R' F R2 U R'","F' R' F R U' R U R' U' R U R'","F L F' L' U L' U' L U L' U' L","F L F' L2 U' L U L' U' L","F' R' F R2 U R' U' R U R'","R U' R2 F R U R U2 R'","R U' R' F' U' x U R' U' R U x'","R U R2' F' R F R' F' R","R U' R' U2 F R U2 R' F","R' F R2 U' R2 U' F U R","F' U R U' R2 F2 R U' F","R' U' R' F2 U F' R F'","R U R' F' R U R' U' R U R' U'","R2 U F2 U2 R2 U R2","R' D R' F2 R D' R"]},{cube:"2x2",name:"2x2 EG2",algs:["F U' R2 U' R' U2 R U' R2 F'","R U R' U R U2 R B2 R2","R U' R' F2 R2 F' L' U' L","F R2 F' R2 F' R U' R","F' R' U R' U2 F R' U R'","R2 B2 R' U' L' U  R' U' L","x U' R2 F R2 F' U R' U2 R' U x'","R' U' R U' R' U2 R' F2 R2","L' U L F' R U R B2 R2","R' U R' F R2 F R2 F'","R' U' R U' R' U' R' F2 R F' R","R2 F2 R F R F' R U R'","F U' R U2 R U' R' U R' F'","R' U2 R2 U' R' F2 R2 F'","R' F' U R' F R2 U2\u2019 R' U R","R' F U' R U R' F2 U2 R","R' U' R' F2 R2 U R' F2 R","R' U2 R U' R2 F2 R F R","F U' R U2 R U' R' U2 R' U' F'","F U R U' R' F R2 F2","R U R' U' R B2 R' U R U' R'","R2 F2 R U R U2 R2 F R F' R","R U' R' U2 L U L' U2 R U' R'","L' U L U2 R' U' R U2 L' U L","R2 B2 R2 F R' F' R U R U' R'","F2 R2' F R U R' U' R' F R","R' U' F2 R U2 R' U2 F R","R' U' R U R' F' R U R' U' R' F' R2","F R' F' R U R U' R B2 R2","F' R U R' U' R' F R' F2 R2","F R F' R U R' U' R B2 R2'","F R' U2 R' U' R U2 F'","R' U R' F R2 U2' R' U' R","F2 R2 F U' R' F R F","R F2 R U R U R F R U R","R' U2 R' F2 R F2 R ","R2 F U2 F2 R2 F' R2","R2 U2 R U2 B2 R2","R' U' R U2 R2 F' R U' F R","R U' R' F U2 R2 F' R F' R","R' U R' F2 R F' R","R2 F2 R2"]}]});var tU=[1,1,1,1];var rU=[1,1,0,1],nU=[0,1,0,1],sU=[0,0,1,1],iU=[1,.5,0,1],oU=[1,0,0,1],gR=[0,0,0,1],xR=[tU,nU,rU,sU,iU,oU];function sR(U){return(U<0||U>=xR.length)&&console.error("Invalid face: "+U),xR[U]}function iR(U,e){return Math.floor(U/h(e.layers))}function q(U){return Math.floor(Math.random()*U)}function bR(U){let e=U.length;for(;e!=0;){let R=q(e);e--;let t=U[R];U[R]=U[e],U[e]=t}return U}function oR(U){return U<=0?2:oR(U-1)+U+2}function SR(U){U[0].score++;let e=oR(U[0].score),R=Math.ceil(U.length*3/4);e>R&&(e=R+q(U.length-R)),vR(U,e)}function AR(U){U[0].score=0,vR(U,oR(0))}function vR(U,e){let R=U[0];for(let t=0;t<e;t++)U[t]=U[t+1];U[e]=R}var W=0,H=1,G=2,Y=3,K=4,z=5,lU=[[W,Y,K],[W,z,Y],[W,K,H],[W,H,z],[G,H,K],[G,z,H],[G,K,Y],[G,Y,z]],FU=[[W,Y],[W,K],[W,z],[W,H],[H,K],[H,z],[G,H],[G,K],[G,z],[G,Y],[Y,K],[Y,z]];function MR(U){let e=kR(12,2),R=kR(8,3),t=aR(8),r=aR(12);for(;BR(t)!==BR(r);)t=aR(8);let n=Array(54);for(let p=0;p<6;p++){let A=U.center(p);n[A]=p}let o=U.corners(0,0),s=U.corners(1,0),i=U.corners(2,0),a=U.corners(3,0),l=U.corners(4,0),f=U.corners(5,0),c=(p,A,N,E,O,C,P,w,_)=>{let b=(T,I)=>lU[t[T]][(R[T]+I)%3];n[p.topLeft]=b(A,C),n[p.topRight]=b(N,P),n[p.bottomLeft]=b(E,w),n[p.bottomRight]=b(O,_)};c(o,0,1,2,3,0,0,0,0),c(s,2,3,4,5,2,1,1,2),c(i,4,5,6,7,0,0,0,0),c(a,6,7,0,1,2,1,1,2),c(l,0,2,6,4,2,1,1,2),c(f,3,1,5,7,2,1,1,2);let F=U.edges(0,0,0),u=U.edges(1,0,0),D=U.edges(2,0,0),x=U.edges(3,0,0),d=U.edges(4,0,0),M=U.edges(5,0,0),S=(p,A,N,E,O,C,P,w,_)=>{let b=(T,I)=>FU[r[T]][(e[T]+I)%2];n[p.top]=b(A,C),n[p.left]=b(N,P),n[p.right]=b(E,w),n[p.bottom]=b(O,_)};return S(F,0,1,2,3,0,0,0,0),S(u,3,4,5,6,1,0,0,1),S(D,6,7,8,9,0,0,0,0),S(x,9,10,11,0,1,0,0,1),S(d,1,10,4,7,1,1,1,1),S(M,2,5,11,8,1,1,1,1),n}function kR(U,e){let R=Array(U);for(let t=0;t<U;t++)R[t]=q(e);for(;!uU(R,e);){let t=q(U);R[t]=q(e)}return R}function uU(U,e){let R=0;for(let t=0;t<U.length;t++)R+=U[t];return R%e===0}function aR(U){let e=Array(U);for(let R=0;R<U;R++)e[R]=R;return bR(e),e}function BR(U){let e=[...U],R=!1;for(;;)if(e[0]===0){let t=e.findIndex((r,n)=>r!==n);if(t===-1)return R;e[0]=e[t],e[t]=0,R=!R}else{let t=e[0];e[0]=e[t],e[t]=t,R=!R}}var cU=document.querySelector("canvas"),Q=cU.getContext("webgl");function lR(U,e){let R=[e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3]];Q.bindBuffer(Q.ARRAY_BUFFER,U.buffer),Q.bufferData(Q.ARRAY_BUFFER,new Float32Array(R),Q.STATIC_DRAW)}function h(U){return U*U}function y(U){return Math.floor(U/2)}function V(U){return U%2==0}function g(U){return U*U*6}var eR=class{constructor(){this.animationQueue=[]}setColors(e){for(let R=0;R<g(this.layers);R++)lR(this.stickers[R],e[R])}solve(){let e=Array(g(this.layers));for(let R=0;R<g(this.layers);R++)e[R]=sR(iR(R,this));this.setColors(e)}scramble(){if(this.layers===3){this.scramble3x3();return}this.naiveScramble()}scramble3x3(){let e=MR(this);this.setCubeState(e)}naiveScramble(){let e=h(this.layers)*10;for(let R=0;R<e;R++){let t=Math.floor(Math.random()*3),r=Math.floor(Math.random()*this.layers),n=Math.floor(Math.random()*1)==0;this._matchTurn(t,r,n)}}setNumOfLayers(e){this.layers=e,this.stickers=Array(g(e)),this.underStickers=Array(g(e));for(let R=0;R<g(e);R++){let t=iR(R,this);this.stickers[R]={face:t,buffer:Q.createBuffer()},this.underStickers[R]={face:t,buffer:Q.createBuffer()},lR(this.underStickers[R],gR)}this.affectedStickers=Array(g(e)).fill(!1)}getCubeState(){return this.stickers.map(e=>e.face)}setCubeState(e){for(let R=0;R<g(this.layers);R++){let t=sR(e[R]);this.stickers[R].face=e[R],lR(this.stickers[R],t)}}resetAffectedStickers(){let e=Array(g(this.layers));this.affectedStickers=e.fill(this.layers===1)}pushAnimation(e,R,t){let r=R?-1:1,n=[0,0,0];n[e]=r,this.animationQueue.push({axis:n,stickers:t,stickersToAnimate:this.affectedStickers})}turn(e,R,t){this.resetAffectedStickers(),this.pushAnimation(e,t,[...this.stickers]),this._matchTurn(e,R,t)}sliceTurn(e,R){let t=Array(g(this.layers));this.affectedStickers=t.fill(!1),this.pushAnimation(e,R,[...this.stickers]);for(let r=1;r<this.layers-1;r++)this._matchTurn(e,r,R)}wideTurn(e,R,t){this.resetAffectedStickers(),this.pushAnimation(e,t,[...this.stickers]),this._matchTurn(e,R,t);for(let r=1;r<this.layers-1;r++)this._matchTurn(e,r,t)}cubeRotate(e,R){this.resetAffectedStickers(),this.pushAnimation(e,R,[...this.stickers]);for(let t=0;t<this.layers;t++)this._matchTurn(e,t,R)}_matchTurn(e,R,t){e==0?(this._turnXAxis(R,t),R==0?this._turnOuter(5,t):R==this.layers-1&&this._turnOuter(4,!t)):e==1?(this._turnYAxis(R,t),R==0?this._turnOuter(0,t):R==this.layers-1&&this._turnOuter(2,!t)):e==2?(this._turnZAxis(R,t),R==0?this._turnOuter(1,t):R==this.layers-1&&this._turnOuter(3,!t)):console.error(`Axis ${e} not recognized`)}_turnXAxis(e,R){for(let t=1;t<=this.layers;t++)this._cycle(R,0*h(this.layers)+h(this.layers)-t-e*this.layers,3*h(this.layers)+h(this.layers)-t-e*this.layers,2*h(this.layers)+h(this.layers)-t-e*this.layers,1*h(this.layers)+h(this.layers)-t-e*this.layers)}_turnYAxis(e,R){for(let t=0;t<this.layers;t++)this._cycle(R,1*h(this.layers)+t*this.layers+e,4*h(this.layers)+t*this.layers+e,3*h(this.layers)+(this.layers-t-1)*this.layers+(this.layers-1)-e,5*h(this.layers)+t*this.layers+e)}_turnZAxis(e,R){for(let t=0;t<this.layers;t++)this._cycle(R,0*h(this.layers)+(t+1)*this.layers-1-e,5*h(this.layers)+t+this.layers*e,2*h(this.layers)+(this.layers-t-1)*this.layers+e,4*h(this.layers)+h(this.layers)-(t+1)-e*this.layers)}_turnOuter(e,R){if(this.layers%2!=0){let t=this.center(e);this.affectedStickers[t]=!0}for(let t=0;t<Math.floor(this.layers/2);t++){let{topLeft:r,topRight:n,bottomLeft:o,bottomRight:s}=this.corners(e,t);this._cycle(R,r,n,s,o);let i=this.layers-2*(t+1);for(let a=0;a<i;a++){let{top:l,left:f,bottom:c,right:F}=this.edges(e,t,a);this._cycle(R,l,F,c,f)}}}_cycle(e,R,t,r,n){this.affectedStickers[R]=!0,this.affectedStickers[t]=!0,this.affectedStickers[r]=!0,this.affectedStickers[n]=!0,e?this._cycleHelper(R,t,r,n):this._cycleHelper(n,r,t,R)}_cycleHelper(e,R,t,r){let n=this.stickers[r];this.stickers[r]=this.stickers[t],this.stickers[t]=this.stickers[R],this.stickers[R]=this.stickers[e],this.stickers[e]=n}matchKeyToTurn(e){if(this.disableTurn||e.ctrlKey)return;switch(e.code){case"KeyN":return this.cubeRotate(0,!0),{notation:"x",rotate:!0};case"KeyB":return this.cubeRotate(0,!1),{notation:"x'",rotate:!0};case"Semicolon":return this.cubeRotate(1,!0),{notation:"y",rotate:!0};case"KeyA":return this.cubeRotate(1,!1),{notation:"y'",rotate:!0};case"KeyP":return this.cubeRotate(2,!0),{notation:"z",rotate:!0};case"KeyQ":return this.cubeRotate(2,!1),{notation:"z'",rotate:!0};case"KeyJ":return this.turn(1,0,!0),{notation:"U",turn:!0};case"KeyF":return this.turn(1,0,!1),{notation:"U'",turn:!0};case"KeyS":return this.turn(1,this.layers-1,!1),{notation:"D",turn:!0};case"KeyL":return this.turn(1,this.layers-1,!0),{notation:"D'",turn:!0};case"KeyH":return this.turn(2,0,!0),{notation:"F",turn:!0};case"KeyG":return this.turn(2,0,!1),{notation:"F'",turn:!0};case"KeyW":return this.turn(2,this.layers-1,!1),{notation:"B",turn:!0};case"KeyO":return this.turn(2,this.layers-1,!0),{notation:"B'",turn:!0};case"KeyD":return this.turn(0,this.layers-1,!1),{notation:"L",turn:!0};case"KeyE":return this.turn(0,this.layers-1,!0),{notation:"L'",turn:!0};case"KeyI":return this.turn(0,0,!0),{notation:"R",turn:!0};case"KeyK":return this.turn(0,0,!1),{notation:"R'",turn:!0};case"BracketLeft":return this.sliceTurn(0,!1),{notation:"M",turn:!0};case"Quote":return this.sliceTurn(0,!0),{notation:"M'",turn:!0};case"KeyC":return this.sliceTurn(1,!1),{notation:"E",turn:!0};case"Comma":return this.sliceTurn(1,!0),{notation:"E'",turn:!0};case"KeyY":return this.sliceTurn(2,!0),{notation:"S",turn:!0};case"KeyT":return this.sliceTurn(2,!1),{notation:"S'",turn:!0};case"KeyU":return this.wideTurn(0,0,!0),{notation:"r",turn:!0};case"KeyM":return this.wideTurn(0,0,!1),{notation:"r'",turn:!0};case"KeyV":return this.wideTurn(0,this.layers-1,!1),{notation:"l",turn:!0};case"KeyR":return this.wideTurn(0,this.layers-1,!0),{notation:"l'",turn:!0}}}stepAlgorithm(e,R){switch(e){case"x":this.cubeRotate(0,R);break;case"x'":this.cubeRotate(0,!R);break;case"x2":this.cubeRotate(0,R),this.cubeRotate(0,R);break;case"y":this.cubeRotate(1,R);break;case"y'":this.cubeRotate(1,!R);break;case"y2":this.cubeRotate(1,R),this.cubeRotate(1,R);break;case"z":this.cubeRotate(2,R);break;case"z'":this.cubeRotate(2,!R);break;case"z2":this.cubeRotate(2,R),this.cubeRotate(2,R);break;case"U":this.turn(1,0,R);break;case"U'":this.turn(1,0,!R);break;case"U2":case"U2'":this.turn(1,0,R),this.turn(1,0,R);break;case"D":this.turn(1,this.layers-1,!R);break;case"D'":this.turn(1,this.layers-1,R);break;case"D2":this.turn(1,this.layers-1,R),this.turn(1,this.layers-1,R);break;case"F":this.turn(2,0,R);break;case"F'":this.turn(2,0,!R);break;case"F2":this.turn(2,0,R),this.turn(2,0,R);break;case"B":this.turn(2,this.layers-1,!R);break;case"B'":this.turn(2,this.layers-1,R);break;case"B2":this.turn(2,this.layers-1,R),this.turn(2,this.layers-1,R);break;case"L":this.turn(0,this.layers-1,!R);break;case"L'":this.turn(0,this.layers-1,R);break;case"L2":this.turn(0,this.layers-1,R),this.turn(0,this.layers-1,R);break;case"l":this.wideTurn(0,this.layers-1,!R);break;case"l'":this.wideTurn(0,this.layers-1,R);break;case"R":this.turn(0,0,R);break;case"R'":this.turn(0,0,!R);break;case"R2":case"R2'":this.turn(0,0,R),this.turn(0,0,R);break;case"r":this.wideTurn(0,0,R);break;case"r'":this.wideTurn(0,0,!R);break;case"r2":case"r2'":this.wideTurn(0,0,R),this.wideTurn(0,0,R);break;case"M":this.turn(0,1,!R);break;case"M'":this.turn(0,1,R);break;case"M2":this.sliceTurn(0,R),this.sliceTurn(0,R);break;case"E":this.sliceTurn(1,!R);break;case"E'":this.sliceTurn(1,R);break;case"S":this.sliceTurn(2,R);break;case"S'":this.sliceTurn(2,!R);break;default:throw new Error("Invalid turn in algorithm: "+e)}}execAlg(e){if(!e)return;let R=e.split(" ");for(let t=0;t<R.length;t++)this.stepAlgorithm(R[t],!0);this.animationQueue=[]}execAlgReverse(e){if(!e)return;let R=e.split(" ");for(let t=R.length-1;t>=0;t--)this.stepAlgorithm(R[t],!1);this.animationQueue=[]}stickerIsOnFace(e,R){return R*h(this.layers)<=e&&e<(R+1)*h(this.layers)}center(e){return e*h(this.layers)+Math.floor(h(this.layers)/2)}corners(e,R){let t=e*h(this.layers);return{topLeft:t+(this.layers+1)*R,topRight:t+(this.layers-1)*(this.layers-R),bottomRight:t+(this.layers+1)*(this.layers-R-1),bottomLeft:t+(this.layers-1)*(R+1)}}edges(e,R,t){let r=this.corners(e,R),n=this.layers-2*(R+1);return{top:r.topLeft+this.layers*(t+1),left:r.topLeft+(n-t),right:r.topRight+t+1,bottom:r.bottomLeft+this.layers*(n-t)}}};function Z(U,e,R){let t=FR(e,1.01,.02),r=FR(e,1,0),n=FR(e,1.5,.02),o=Array(g(e.layers));for(let s=0;s<g(e.layers);s++){let i={positionBuffer:U.createBuffer(),noGapPositionBuffer:U.createBuffer(),hintPositionBuffer:U.createBuffer(),indexBuffer:U.createBuffer(),cart2d:[],positions:null},a=new Float32Array(12),l=new Float32Array(12),f=new Float32Array(12);for(let u=0;u<12;u++){let D=s*12+u;a[u]=t[D],l[u]=r[D],f[u]=n[D]}U.bindBuffer(U.ARRAY_BUFFER,i.positionBuffer),U.bufferData(U.ARRAY_BUFFER,a,U.STATIC_DRAW),i.positions=a,U.bindBuffer(U.ARRAY_BUFFER,i.noGapPositionBuffer),U.bufferData(U.ARRAY_BUFFER,l,U.STATIC_DRAW),U.bindBuffer(U.ARRAY_BUFFER,i.hintPositionBuffer),U.bufferData(U.ARRAY_BUFFER,f,U.STATIC_DRAW);let c=Array(16);tR(c,0,R,[l[0],l[1],l[2],1]),tR(c,4,R,[l[3],l[4],l[5],1]),tR(c,8,R,[l[6],l[7],l[8],1]),tR(c,12,R,[l[9],l[10],l[11],1]),i.cart2d=[c[0]/c[3],c[1]/c[3],c[4]/c[7],c[5]/c[7],c[8]/c[11],c[9]/c[11],c[12]/c[15],c[13]/c[15]];let F=[0,1,2,0,2,3];U.bindBuffer(U.ELEMENT_ARRAY_BUFFER,i.indexBuffer),U.bufferData(U.ELEMENT_ARRAY_BUFFER,new Uint16Array(F),U.STATIC_DRAW),o[s]=i}return o}function tR(U,e,R,t){let r=Array(4),n=t[0],o=t[1],s=t[2],i=t[3];U[e+0]=n*R[0]+o*R[4]+s*R[8]+i*R[12],U[e+1]=n*R[1]+o*R[5]+s*R[9]+i*R[13],U[e+2]=n*R[2]+o*R[6]+s*R[10]+i*R[14],U[e+3]=n*R[3]+o*R[7]+s*R[11]+i*R[15]}var TR=12,fU=4,$=3;function FR(U,e,R){let t=h(U.layers)*TR,r=Array(6*t);return hU(r,0*t,U,1,e,R),DU(r,1*t,U,0,e,R),mU(r,2*t,U,1,-e,R),LU(r,3*t,U,0,-e,R),yU(r,4*t,U,2,-e,R),dU(r,5*t,U,2,e,R),r}function hU(U,e,R,t,r,n){if(V(R.layers)){let i=Array(h(R.layers)),a=0;for(let l=0;l<R.layers;l++)for(let f=0;f<R.layers;f++){let c=-1+1/R.layers+f*2/R.layers,F=-1+1/R.layers+l*2/R.layers;i[a]=[c,F,r],a++}v(U,e,R,i,t,n);return}let o=Array(h(R.layers)),s=0;for(let i=-y(R.layers);i<=y(R.layers);i++)for(let a=-y(R.layers);a<=y(R.layers);a++)o[s]=[2*a/R.layers,2*i/R.layers,r],s++;v(U,e,R,o,t,n)}function DU(U,e,R,t,r,n){if(V(R.layers)){let i=Array(h(R.layers)),a=0;for(let l=0;l<R.layers;l++)for(let f=R.layers-1;f>=0;f--){let c=-1+1/R.layers+l*2/R.layers,F=-1+1/R.layers+f*2/R.layers;i[a]=[c,F,r],a++}v(U,e,R,i,t,n);return}let o=Array(h(R.layers)),s=0;for(let i=-y(R.layers);i<=y(R.layers);i++)for(let a=y(R.layers);a>=-y(R.layers);a--)o[s]=[2*i/R.layers,2*a/R.layers,r],s++;v(U,e,R,o,t,n)}function mU(U,e,R,t,r,n){if(V(R.layers)){let i=Array(h(R.layers)),a=0;for(let l=0;l<R.layers;l++)for(let f=R.layers-1;f>=0;f--){let c=-1+1/R.layers+f*2/R.layers,F=-1+1/R.layers+l*2/R.layers;i[a]=[c,F,r],a++}v(U,e,R,i,t,n);return}let o=Array(h(R.layers)),s=0;for(let i=-y(R.layers);i<=y(R.layers);i++)for(let a=y(R.layers);a>=-y(R.layers);a--)o[s]=[2*a/R.layers,2*i/R.layers,r],s++;v(U,e,R,o,t,n)}function LU(U,e,R,t,r,n){if(V(R.layers)){let i=Array(h(R.layers)),a=0;for(let l=0;l<R.layers;l++)for(let f=0;f<R.layers;f++){let c=-1+1/R.layers+l*2/R.layers,F=-1+1/R.layers+f*2/R.layers;i[a]=[c,F,r],a++}v(U,e,R,i,t,n);return}let o=Array(h(R.layers)),s=0;for(let i=-y(R.layers);i<=y(R.layers);i++)for(let a=-y(R.layers);a<=y(R.layers);a++)o[s]=[2*i/R.layers,2*a/R.layers,r],s++;v(U,e,R,o,t,n)}function yU(U,e,R,t,r,n){if(V(R.layers)){let i=Array(h(R.layers)),a=0;for(let l=0;l<R.layers;l++)for(let f=R.layers-1;f>=0;f--){let c=-1+1/R.layers+f*2/R.layers,F=-1+1/R.layers+l*2/R.layers;i[a]=[c,F,r],a++}v(U,e,R,i,t,n);return}let o=Array(h(R.layers)),s=0;for(let i=-y(R.layers);i<=y(R.layers);i++)for(let a=y(R.layers);a>=-y(R.layers);a--)o[s]=[2*a/R.layers,2*i/R.layers,r],s++;v(U,e,R,o,t,n)}function dU(U,e,R,t,r,n){if(V(R.layers)){let i=Array(h(R.layers)),a=0;for(let l=R.layers-1;l>=0;l--)for(let f=R.layers-1;f>=0;f--){let c=-1+1/R.layers+f*2/R.layers,F=-1+1/R.layers+l*2/R.layers;i[a]=[c,F,r],a++}v(U,e,R,i,t,n);return}let o=Array(h(R.layers)),s=0;for(let i=y(R.layers);i>=-y(R.layers);i--)for(let a=y(R.layers);a>=-y(R.layers);a--)o[s]=[2*a/R.layers,2*i/R.layers,r],s++;v(U,e,R,o,t,n)}function v(U,e,R,t,r,n){for(let o=0;o<h(R.layers);o++){let s=t[o];pU(U,e+o*TR,R,s[0],s[1],s[2],r,n)}}function pU(U,e,R,t,r,n,o,s){let i=1/R.layers-s,a=[[t-i,r-i,n],[t+i,r-i,n],[t+i,r+i,n],[t-i,r+i,n]];for(let l=0;l<fU;l++){let f=a[l];U[e+l*$]=f[(o+0)%$],U[e+l*$+1]=f[(o+1)%$],U[e+l*$+2]=f[(o+2)%$]}}var rR=class{constructor(){this.position=0,this._velocity=200,this._acceleration=0,this.target=0}update(e){let R=-100*(this.position-this.target),t=-15*this._velocity;this._acceleration=R+t,this._velocity+=this._acceleration*e,this.position+=this._velocity*e}};function ER(U,e){return U/e*2-1}function OR(U,e){return 1-U/e*2}function uR(U,e,R,t){return U<R?(t-e)/(R-U):(e-t)/(U-R)}function X(U,e,R,t,r,n){return Math.abs(.5*(U*(t-n)+R*(n-e)+r*(e-t)))}function xU(U,e){return U.layers-1-e%U.layers}function cR(U,e){return U.layers-1-Math.floor(e/U.layers)}function gU(U,e){return e%U.layers}function fR(U,e){return U.layers-1-Math.floor((e-h(U.layers))/U.layers)}var nR=class{onPointerDown(e,R,t,r,n){this.numOfPointerMoves=0;let o=ER(e,t.clientWidth),s=OR(R,t.clientHeight);this.xOnDown=o,this.yOnDown=s,[this.stickerOnDown,this.cart2dOnDown]=this._coordinatesToSticker(o,s,r,n);function i(D,x,d){return{x:n[D].cart2d[x],y:n[D].cart2d[d]}}if(this.stickerOnDown!==-1)return;let a=i(0,0,1),l=i(r.layers*(r.layers-1),6,7),f=i(r.layers-1,2,3),c=i(h(r.layers)-1,4,5),F=i(r.layers*(r.layers+1)-1,0,1),u=i(h(r.layers)*2-1,2,3);s>a.y&&o>a.x&&o<l.x?r.cubeRotate(0,!0):o<a.x&&s>f.y&&s<a.y?r.cubeRotate(2,!1):o>l.x&&s>c.y&&s<l.y?r.cubeRotate(2,!0):o<F.x&&s>F.y&&s<f.y?r.cubeRotate(1,!0):o>u.x&&s>u.y&&s<c.y?r.cubeRotate(1,!1):s<F.y&&o>F.x&&o<u.x&&r.cubeRotate(0,!1)}onPointerMove(e,R){this.numOfPointerMoves++,this.xOnMove=e,this.yOnMove=R}onPointerUp(e,R,t){if(this.numOfPointerMoves<2)return;let r,n;if(this.stickerOnDown!==-1&&(r=uR(this.cart2dOnDown[0],this.cart2dOnDown[1],this.cart2dOnDown[4],this.cart2dOnDown[5]),n=uR(this.cart2dOnDown[2],this.cart2dOnDown[3],this.cart2dOnDown[6],this.cart2dOnDown[7]),r<0)){let a=r;r=n,n=a}let o=ER(this.xOnMove,e.clientWidth),s=OR(this.yOnMove,e.clientHeight),i=uR(o,s,this.xOnDown,this.yOnDown);R.stickerIsOnFace(this.stickerOnDown,0)?o===this.xOnDown?R.turn(0,cR(R,this.stickerOnDown),s>this.yOnDown):i>r?R.turn(0,cR(R,this.stickerOnDown),o>this.xOnDown):i<n?R.turn(0,cR(R,this.stickerOnDown),o<this.xOnDown):R.turn(2,xU(R,this.stickerOnDown),o>this.xOnDown):R.stickerIsOnFace(this.stickerOnDown,1)&&(o===this.xOnDown?R.turn(0,fR(R,this.stickerOnDown),s>this.yOnDown):i>r?R.turn(0,fR(R,this.stickerOnDown),o>this.xOnDown):i<n?R.turn(0,fR(R,this.stickerOnDown),o<this.xOnDown):R.turn(1,gU(R,this.stickerOnDown),o<this.xOnDown))}_coordinatesToSticker(e,R,t,r){let n=o=>{if(!r[o].cart2d){console.error("cart2d is undefined");return}let s=r[o].cart2d,i=X(s[0],s[1],s[2],s[3],s[4],s[5])+X(s[0],s[1],s[4],s[5],s[6],s[7]),a=X(e,R,s[0],s[1],s[2],s[3])+X(e,R,s[2],s[3],s[4],s[5])+X(e,R,s[4],s[5],s[6],s[7])+X(e,R,s[6],s[7],s[0],s[1]),l=1e-5;if(Math.abs(i-a)<l)return[o,s]};for(let o=0;o<2*h(t.layers);o++){let s=n(o);if(s)return s}return[-1,void 0]}};function J(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function CR(U,e,R,t,r){let n=1/Math.tan(e/2);if(U[0]=n/R,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=n,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[11]=-1,U[12]=0,U[13]=0,U[15]=0,r!=null&&r!==1/0){let o=1/(t-r);U[10]=(r+t)*o,U[14]=2*r*t*o}else U[10]=-1,U[14]=-2*t;return U}function RR(U,e,R,t){let r=t[0],n=t[1],o=t[2],s=1/Math.hypot(r,n,o);r*=s,n*=s,o*=s;let i=Math.sin(R),a=Math.cos(R),l=1-a,f=e[0],c=e[1],F=e[2],u=e[3],D=e[4],x=e[5],d=e[6],M=e[7],S=e[8],p=e[9],A=e[10],N=e[11],E=r*r*l+a,O=n*r*l+o*i,C=o*r*l-n*i,P=r*n*l-o*i,w=n*n*l+a,_=o*n*l+r*i,b=r*o*l+n*i,T=n*o*l-r*i,I=o*o*l+a;return U[0]=f*E+D*O+S*C,U[1]=c*E+x*O+p*C,U[2]=F*E+d*O+A*C,U[3]=u*E+M*O+N*C,U[4]=f*P+D*w+S*_,U[5]=c*P+x*w+p*_,U[6]=F*P+d*w+A*_,U[7]=u*P+M*w+N*_,U[8]=f*b+D*T+S*I,U[9]=c*b+x*T+p*I,U[10]=F*b+d*T+A*I,U[11]=u*b+M*T+N*I,e!==U&&(U[12]=e[12],U[13]=e[13],U[14]=e[14],U[15]=e[15]),U}function PR(U,e){let R=e[0],t=e[1],r=e[2];return U[12]+=U[0]*R+U[4]*t+U[7]*r,U[13]+=U[1]*R+U[5]*t+U[8]*r,U[14]+=U[2]*R+U[5]*t+U[9]*r,U[15]+=U[3]*R+U[6]*t+U[10]*r,U}function hR(){let U;return e=>(U||(U=e()),U)}var wR="algs";var _R="orientation";function IR(U){let e=localStorage.getItem(wR+U);return e?JSON.parse(e):[]}function WR(U,e){localStorage.setItem(wR+U,JSON.stringify(e))}function HR(){var U;return(U=localStorage.getItem(_R))!=null?U:""}function GR(U){localStorage.setItem(_R,U)}var B=document.querySelector("canvas"),m=B.getContext("webgl"),j=vU(),k=[],UR={animateTurns:!0,hintStickers:!0,showBody:!0};var YR=Date.now()*.001,AU=3,KR=!1;function jR(){KR||(KR=!0,requestAnimationFrame(qR))}function NR(U){let e=document.querySelector(U),R=new eR,t=new rR,r=kU(e),n=new nR;R.setNumOfLayers(AU);let o=Z(m,R,r),s={div:e,cube:R,spring:t,buffers:o,perspectiveMatrix:r},i=(u,D)=>{!s.dragEnabled||n.onPointerDown(u,D,s.div,s.cube,s.buffers)},a=(u,D)=>{!s.dragEnabled||n.onPointerMove(u,D)},l=()=>{!s.dragEnabled||n.onPointerUp(s.div,s.cube,s.buffers)},f=u=>{let D=u.target.getBoundingClientRect(),x=u.touches[0].pageX-D.left,d=u.touches[0].pageY-D.top;return{x,y:d}},c=()=>{e.addEventListener("pointerdown",u=>i(u.offsetX,u.offsetY)),e.addEventListener("pointermove",u=>a(u.offsetX,u.offsetY)),e.addEventListener("pointerup",u=>l())},F=()=>{e.addEventListener("touchstart",u=>{let{x:D,y:x}=f(u);i(D,x)}),e.addEventListener("touchmove",u=>{let{x:D,y:x}=f(u);a(D,x)}),e.addEventListener("touchend",u=>{l()})};return window.PointerEvent?c():F(),s}function vU(){let R=BU(m,`
    attribute vec4 aVertexPosition;
    attribute vec4 aVertexColor;
    uniform mat4 uTransformMatrix;
    uniform mat4 uRotateMatrix;

    // variables shared between vertex and fragment shaders
    varying lowp vec4 vColor;
    varying lowp vec4 originalPos;
    varying lowp vec4 rotatedPos;
    void main(void) {
        gl_Position = uTransformMatrix * aVertexPosition;
        originalPos = aVertexPosition;
        rotatedPos = uRotateMatrix * aVertexPosition;
        vColor = aVertexColor;
    }
    `,`
    // variables shared between vertex and fragment shaders
    varying lowp vec4 vColor;
    varying lowp vec4 originalPos;
    varying lowp vec4 rotatedPos;

    void main(void) {
        gl_FragColor = vColor;

        // low precision float variable
        lowp float max = 1.05;

        // if it is a normal sticker rather than a hint sticker, it should not be discarded
        if (originalPos.x < max && originalPos.x > -max && originalPos.y < max && originalPos.y > -max && originalPos.z < max && originalPos.z > -max) {
            return;
        }

        // if it starts on the right or left, and stays on its side, it should not be discarded
        if (originalPos.x > max && rotatedPos.x > max) return;
        if (originalPos.x < -max && rotatedPos.x < -max) return;

        if (rotatedPos.y < max && rotatedPos.z < max) return;
        discard;
    }
    `);return m.useProgram(R),{attribLocations:{vertexPosition:m.getAttribLocation(R,"aVertexPosition"),vertexColor:m.getAttribLocation(R,"aVertexColor")},uniformLocations:{transformMatrix:m.getUniformLocation(R,"uTransformMatrix"),rotateMatrix:m.getUniformLocation(R,"uRotateMatrix")}}}function kU(U){let e=J();return CR(e,50*Math.PI/180,U.clientWidth/U.clientHeight,.1,100),PR(e,[0,0,-5]),RR(e,e,45*Math.PI/180,[1,0,0]),RR(e,e,0,[0,-1,0]),e}function DR(U,e,R){R.bindBuffer(R.ARRAY_BUFFER,U),R.vertexAttribPointer(e.attribLocations.vertexPosition,3,R.FLOAT,!1,0,0),R.enableVertexAttribArray(e.attribLocations.vertexPosition)}function mR(U,e,R){R.bindBuffer(R.ARRAY_BUFFER,U),R.vertexAttribPointer(e.attribLocations.vertexColor,4,R.FLOAT,!1,0,0),R.enableVertexAttribArray(e.attribLocations.vertexColor)}function LR(U){U.drawElements(U.TRIANGLES,6,U.UNSIGNED_SHORT,0)}function BU(U,e,R){let t=zR(U,U.VERTEX_SHADER,e),r=zR(U,U.FRAGMENT_SHADER,R),n=U.createProgram();return U.attachShader(n,t),U.attachShader(n,r),U.linkProgram(n),U.getProgramParameter(n,U.LINK_STATUS)?n:(alert("Unable to initialize the shader program: "+U.getProgramInfoLog(n)),null)}function zR(U,e,R){let t=U.createShader(e);return U.shaderSource(t,R),U.compileShader(t),U.getShaderParameter(t,U.COMPILE_STATUS)?t:(alert("An error occurred compiling the shaders: "+U.getShaderInfoLog(t)),U.deleteShader(t),null)}function MU(){let U=B.clientWidth,e=B.clientHeight,R=B.width!==U||B.height!==e;return R&&(B.width=U,B.height=e),R}function qR(U){U*=.001;let e=U-YR;YR=U,MU(),m.enable(m.DEPTH_TEST),m.enable(m.SCISSOR_TEST),m.depthFunc(m.LEQUAL),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),B.style.transform=`translateY(${window.scrollY}px)`;for(let R=0;R<k.length;R++){let{cube:t,div:r,spring:n,buffers:o,perspectiveMatrix:s}=k[R],i=r.getBoundingClientRect();if(i.bottom<0||i.top>B.clientHeight||i.right<0||i.left>B.clientWidth)continue;let a=i.right-i.left,l=i.bottom-i.top,f=i.left,c=B.clientHeight-i.bottom;m.viewport(f,c,a,l),m.scissor(f,c,a,l),t.animationQueue[0]&&(n.target=t.animationQueue.length*90,n.update(e),n.position>=90&&(t.affectedStickers=Array(g(t.layers)).fill(!1),n.position=0,t.animationQueue.shift()));let F=t.animationQueue[0],u=TU(t),D=hR(),x=hR();for(let d=0;d<g(t.layers);d++){let M=o[d],S=F&&F.stickersToAnimate[d]&&UR.animateTurns?D(()=>RR(J(),s,n.position*Math.PI/180,F.axis)):s;m.uniformMatrix4fv(j.uniformLocations.transformMatrix,!1,S);let p=F&&F.stickersToAnimate[d]&&UR.animateTurns?x(()=>{let A=J();return RR(A,A,n.position*Math.PI/180,F.axis)}):J();m.uniformMatrix4fv(j.uniformLocations.rotateMatrix,!1,p),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,M.indexBuffer),UR.showBody&&(DR(M.noGapPositionBuffer,j,m),mR(t.underStickers[d].buffer,j,m),LR(m)),DR(M.positionBuffer,j,m),mR(u[d].buffer,j,m),LR(m),UR.hintStickers&&(DR(M.hintPositionBuffer,j,m),mR(u[d].buffer,j,m),LR(m))}}requestAnimationFrame(qR)}function TU(U){return UR.animateTurns&&U.animationQueue[0]?U.animationQueue[0].stickers:U.stickers}var QR=!1;function VR(U){QR=!0,U.style.display="flex",U.classList.add("slideLeftOpen"),document.documentElement.clientWidth<725?U.classList.add("slideLeftClosed"):U.classList.remove("slideLeftClosed")}function yR(U){QR=!1,document.documentElement.clientWidth<725?(U.classList.add("slideLeftClosed"),U.classList.remove("slideLeftOpen"),U.style.display="flex"):U.style.display="none"}function $R(U){return`
    <div class="row" style="justify-content: space-between; width: 100%; padding-bottom: 16px;">
        <p style="font-weight: bold; padding-right: 2rem;">${U}</p>
        <svg id="closeDrawer" class="xButton" width="32" height="32" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="black">
            <path id="closeDrawer" d="M 2 2 L 22 22 M 22 2 L 2 22" stroke-width="2" />
        </svg>
    </div>
    `}function XR(){let U=document.querySelector(".slideRight"),e=!1;function R(t){if(e=t,e){U.classList.add("slideRightOpen");return}U.classList.remove("slideRightOpen")}document.addEventListener("click",t=>{let r=t.target;if(r===document.querySelector("#menu")){R(!0);return}e&&!r.closest(".slideRight")&&R(!1)}),document.querySelector("#closeMenu").addEventListener("click",()=>{R(!1)}),document.querySelector("#learnButton").addEventListener("click",()=>{document.location.href="learn.html"}),document.querySelector("#playButton").addEventListener("click",()=>{document.location.href="play.html"}),document.querySelector("#trainButton").addEventListener("click",()=>{document.location.href="train.html"}),document.querySelector("#cubleButton").addEventListener("click",()=>{document.location.href="cuble.html"})}var CU=document.querySelector("canvas"),JR=CU.getContext("webgl"),dR=ZR(),L={solutionShown:!1,retried:!1,solved:!1,settingsOpen:!1,preRotation:"",algSet:null,algs:[],preAUF:"",postAUF:""};function RU(U,e){return e?`${e} ${U}`:U}function PU(U,e){return e?`${U} ${e}`:U}function pR(U,e){for(let R=0;R<e.length;R++){let t=U[e[R][0]].face;for(let r=1;r<e[R].length;r++)if(t!==U[e[R][r]].face)return!1}return!0}function wU(U,e){switch(e.name){case"CMLL":return pR(U,[[0,2,6,8],[9,15],[29,35],[36,42],[45,51]]);case"OLL":return pR(U,[[0,1,2,3,4,5,6,7,8],[10,11,13,14,16,17],[18,19,20,21,22,23,24,25,26],[27,28,30,31,33,34],[37,38,40,41,43,44],[46,47,489,50,52,53]]);case"PLL":case"ZBLL":return pR(U,[[0,1,2,3,4,5,6,7,8],[9,12,15],[29,32,35],[36,39,42],[45,48,51],[10,11,13,14,16,17],[18,19,20,21,22,23,24,25,26],[27,28,30,31,33,34],[37,38,40,41,43,44],[46,47,49,50,52,53]]);default:console.error("Not implemented yet:",e.name)}}function UU(){let U=document.querySelector("#rightDrawer");if(L.settingsOpen){let e=[{value:"",text:"White Green"},{value:"y'",text:"White Orange"},{value:"y2",text:"White Blue"},{value:"y",text:"White Red"},{value:"z2",text:"Yellow Green"},{value:"z2 y",text:"Yellow Orange"},{value:"x2",text:"Yellow Blue"},{value:"z2 y'",text:"Yellow Red"},{value:"x y2",text:"Green White"},{value:"x y",text:"Green Red"},{value:"x",text:"Green Yellow"},{value:"x y'",text:"Green Orange"},{value:"x'",text:"Blue White"},{value:"x' y",text:"Blue Red"},{value:"x' y2",text:"Blue Yellow"},{value:"x' y'",text:"Blue Orange"},{value:"z y",text:"Orange White"},{value:"z",text:"Orange Green"},{value:"z y'",text:"Orange Yellow"},{value:"z y2",text:"Orange Blue"},{value:"z' y'",text:"Red White"},{value:"z'",text:"Red Green"},{value:"z' y",text:"Red Yellow"},{value:"z' y2",text:"Red Blue"}],R="";e.forEach(t=>{let r=t.value===L.preRotation?"selected":"";R+=`<option value="${t.value}" ${r}>${t.text}</option>`}),U.innerHTML=`
        ${$R("Settings")}
        <p>Cube Orientation</p>
        <select id="orientationSelect">
            ${R}
        </select>
        `,VR(U)}else yR(U)}function _U(){let U=NR("#scene");k.push(U),U.cube.solve(),jR(),XR(),document.addEventListener("keydown",F=>{F.key===" "?(F.preventDefault(),i()):F.key=="Backspace"?f():F.key=="Enter"?n():U.cube.matchKeyToTurn(F)&&wU(U.cube.stickers,L.algSet)&&(l(),L.solved=!0)});let e=document.querySelector("#alg-set-select");e.addEventListener("change",F=>{let u=F.target.value,D=R(u);c(D)}),dR.forEach(F=>{let u=document.createElement("option");u.textContent=F.name,u.value=F.name,e.appendChild(u)});function R(F){return dR.find(u=>u.name===F)}function t(){return["","U","U2","U'"][Math.floor(Math.random()*4)]}function r(){a();let F=L.algs[0].alg;L.preAUF=t(),F=RU(F,L.preAUF),L.postAUF=t(),F=PU(F,L.postAUF),U.cube.solve(),U.cube.execAlg(L.preRotation),U.cube.execAlgReverse(F)}function n(){L.solutionShown||L.retried||!L.solved?AR(L.algs):SR(L.algs),WR(L.algSet.name,L.algs),L.solutionShown=!1,L.retried=!1,L.solved=!1,r()}let o=document.querySelector("#solution-text");o.addEventListener("click",i);let s=["hover:cursor-pointer","hover:bg-neutral-800","hover:bg-opacity-75"];function i(){L.solutionShown=!0;let F=L.algs[0].alg;F=RU(F,L.preAUF),o.textContent=F,o.classList.remove(...s)}function a(){o.textContent="Show solution",o.classList.add(...s)}function l(){o.textContent="Solved!",o.classList.remove(...s)}function f(){L.retried=!0,r()}function c(F){L.algSet=F,F.cube=="2x2"?(k[0].cube.setNumOfLayers(2),k[0].buffers=Z(JR,k[0].cube,k[0].perspectiveMatrix),U.cube.solve()):F.cube=="3x3"&&(k[0].cube.setNumOfLayers(23),k[0].buffers=Z(JR,k[0].cube,k[0].perspectiveMatrix),U.cube.solve());let u=IR(F.name);u=u.filter(D=>F.algs.find(x=>D.alg===x)),F.algs.forEach(D=>{u.find(d=>d.alg===D)||u.push({score:0,alg:D})}),L.algs=u,r()}L.preRotation=HR(),a(),c(dR[0]),window.addEventListener("resize",()=>{UU()}),document.addEventListener("click",F=>{let u=F.target;u.id==="closeDrawer"?yR(document.querySelector("#rightDrawer")):u.id==="next"?n():u.id==="trainSettingsButton"?(L.settingsOpen=!0,UU()):u.id==="try-again"&&f()}),document.addEventListener("change",F=>{let u=F.target;u.id==="orientationSelect"&&(L.preRotation=u.value,r(),GR(u.value))})}_U();})();
//# sourceMappingURL=train.js.map
